STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 1  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

   1                         stm8/     
   0  000000                                 #include "STM8L051F3.inc"
   1                         ; STM8L051F3.inc
   2                         
   3                         ; Copyright (c) 2003-2017 STMicroelectronics
   4                         
   5  000000 U                               #ifdef   __STM8L051F3__
   8  000000                                 #define  __STM8L051F3__ 1
   9                         
  10                         ; STM8L051F3
  11                         
  12                         
  13                         ; Port A
  14                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  15                         
  16  000000                                 EXTERN   PA_ODR.w      ; Port A data output latch 
                                                                ;register
  17                         
  18  000000                                 EXTERN   PA_IDR.w      ; Port A input pin value 
                                                                ;register
  19                         
  20  000000                                 EXTERN   PA_DDR.w      ; Port A data direction 
                                                                ;register
  21                         
  22  000000                                 EXTERN   PA_CR1.w      ; Port A control register 1
  23                         
  24  000000                                 EXTERN   PA_CR2.w      ; Port A control register 2
  25                         
  26                         ; Port B
  27                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  28                         
  29  000000                                 EXTERN   PB_ODR.w      ; Port B data output latch 
                                                                ;register
  30                         
  31  000000                                 EXTERN   PB_IDR.w      ; Port B input pin value 
                                                                ;register
  32                         
  33  000000                                 EXTERN   PB_DDR.w      ; Port B data direction 
                                                                ;register
  34                         
  35  000000                                 EXTERN   PB_CR1.w      ; Port B control register 1
  36                         
  37  000000                                 EXTERN   PB_CR2.w      ; Port B control register 2
  38                         
  39                         ; Port C
  40                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  41                         
  42  000000                                 EXTERN   PC_ODR.w      ; Port C data output latch 
                                                                ;register
  43                         
  44  000000                                 EXTERN   PC_IDR.w      ; Port C input pin value 
                                                                ;register
  45                         
  46  000000                                 EXTERN   PC_DDR.w      ; Port C data direction 
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 2  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

                                                                ;register
  47                         
  48  000000                                 EXTERN   PC_CR1.w      ; Port C control register 1
  49                         
  50  000000                                 EXTERN   PC_CR2.w      ; Port C control register 2
  51                         
  52                         ; Port D
  53                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  54                         
  55  000000                                 EXTERN   PD_ODR.w      ; Port D data output latch 
                                                                ;register
  56                         
  57  000000                                 EXTERN   PD_IDR.w      ; Port D input pin value 
                                                                ;register
  58                         
  59  000000                                 EXTERN   PD_DDR.w      ; Port D data direction 
                                                                ;register
  60                         
  61  000000                                 EXTERN   PD_CR1.w      ; Port D control register 1
  62                         
  63  000000                                 EXTERN   PD_CR2.w      ; Port D control register 2
  64                         
  65                         ; Flash
  66                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  67                         
  68  000000                                 EXTERN   FLASH_CR1.w   ; Flash control register 1
  69                         
  70  000000                                 EXTERN   FLASH_CR2.w   ; Flash control register 2
  71                         
  72  000000                                 EXTERN   FLASH_PUKR.w  ; Flash Program memory 
                                                                ;unprotection register
  73                         
  74  000000                                 EXTERN   FLASH_DUKR.w  ; Data EEPROM unprotection 
                                                                ;register
  75                         
  76  000000                                 EXTERN   FLASH_IAPSR.w  ; Flash in-application 
                                                                ;programming status register
  77                         
  78                         ; Direct memory access controller 1 (DMA1)
  79                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  80                         
  81  000000                                 EXTERN   DMA1_GCSR.w   ; DMA1 global configuration & 
                                                                ;status register
  82                         
  83  000000                                 EXTERN   DMA1_GIR1.w   ; DMA1 global interrupt register
                                                                ; 1
  84                         
  85  000000                                 EXTERN   DMA1_C0CR.w   ; DMA1 channel 0 configuration 
                                                                ;register
  86                         
  87  000000                                 EXTERN   DMA1_C0SPR.w  ; DMA1 channel 0 status & 
                                                                ;priority register
  88                         
  89  000000                                 EXTERN   DMA1_C0NDTR.w  ; DMA1 number of data to 
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 3  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

                                                                ;transfer register (channel 0)
  90                         
  91  000000                                 EXTERN   DMA1_C0PARH.w  ; DMA peripheral address high 
                                                                ;register (channel 0)
  92                         
  93  000000                                 EXTERN   DMA1_C0PARL.w  ; DMA peripheral address low 
                                                                ;register (channel 0)
  94                         
  95  000000                                 EXTERN   DMA1_C0M0ARH.w  ; DMA memory address high 
                                                                ;register (channel 0)
  96                         
  97  000000                                 EXTERN   DMA1_C0M0ARL.w  ; DMA memory address low 
                                                                ;register (channel 0)
  98                         
  99  000000                                 EXTERN   DMA1_C1CR.w   ; DMA1 channel 1 configuration 
                                                                ;register
 100                         
 101  000000                                 EXTERN   DMA1_C1SPR.w  ; DMA1 channel 1 status & 
                                                                ;priority register
 102                         
 103  000000                                 EXTERN   DMA1_C1NDTR.w  ; DMA1 number of data to 
                                                                ;transfer register (channel 1)
 104                         
 105  000000                                 EXTERN   DMA1_C1PARH.w  ; DMA peripheral address high 
                                                                ;register (channel 1)
 106                         
 107  000000                                 EXTERN   DMA1_C1PARL.w  ; DMA peripheral address low 
                                                                ;register (channel 1)
 108                         
 109  000000                                 EXTERN   DMA1_C1M0ARH.w  ; DMA memory address high 
                                                                ;register (channel 1)
 110                         
 111  000000                                 EXTERN   DMA1_C1M0ARL.w  ; DMA memory address low 
                                                                ;register (channel 1)
 112                         
 113  000000                                 EXTERN   DMA1_C2CR.w   ; DMA1 channel 2 configuration 
                                                                ;register
 114                         
 115  000000                                 EXTERN   DMA1_C2SPR.w  ; DMA1 channel 2 status & 
                                                                ;priority register
 116                         
 117  000000                                 EXTERN   DMA1_C2NDTR.w  ; DMA1 number of data to 
                                                                ;transfer register (channel 2)
 118                         
 119  000000                                 EXTERN   DMA1_C2PARH.w  ; DMA peripheral address high 
                                                                ;register (channel 2)
 120                         
 121  000000                                 EXTERN   DMA1_C2PARL.w  ; DMA peripheral address low 
                                                                ;register (channel 2)
 122                         
 123  000000                                 EXTERN   DMA1_C2M0ARH.w  ; DMA memory address high 
                                                                ;register (channel 2)
 124                         
 125  000000                                 EXTERN   DMA1_C2M0ARL.w  ; DMA memory address low 
                                                                ;register (channel 2)
 126                         
 127  000000                                 EXTERN   DMA1_C3CR.w   ; DMA1 channel 3 configuration 
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 4  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

                                                                ;register
 128                         
 129  000000                                 EXTERN   DMA1_C3SPR.w  ; DMA1 channel 3 status & 
                                                                ;priority register
 130                         
 131  000000                                 EXTERN   DMA1_C3NDTR.w  ; DMA1 number of data to 
                                                                ;transfer register (channel 3)
 132                         
 133  000000                                 EXTERN   DMA1_C3PARH_C3M1ARH.w  ; DMA1 peripheral address high 
                                                                ;register (channel 3)
 134                         
 135  000000                                 EXTERN   DMA1_C3PARL_C3M1ARL.w  ; DMA1 peripheral address low 
                                                                ;register (channel 3)
 136                         
 137  000000                                 EXTERN   DMA_C3M0EAR.w  ; DMA channel 3 memory 0 
                                                                ;extended address register
 138                         
 139  000000                                 EXTERN   DMA1_C3M0ARH.w  ; DMA memory address high 
                                                                ;register (channel 3)
 140                         
 141  000000                                 EXTERN   DMA1_C3M0ARL.w  ; DMA memory address low 
                                                                ;register (channel 3)
 142                         
 143                         ; System configuration (SYSCFG)
 144                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 145                         
 146  000000                                 EXTERN   SYSCFG_RMPCR3.w  ; Remapping register 3
 147                         
 148  000000                                 EXTERN   SYSCFG_RMPCR1.w  ; Remapping register 1
 149                         
 150  000000                                 EXTERN   SYSCFG_RMPCR2.w  ; Remapping register 2
 151                         
 152                         ; External Interrupt Control Register (ITC)
 153                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 154                         
 155  000000                                 EXTERN   EXTI_CR1.w    ; External interrupt control 
                                                                ;register 1
 156                         
 157  000000                                 EXTERN   EXTI_CR2.w    ; External interrupt control 
                                                                ;register 2
 158                         
 159  000000                                 EXTERN   EXTI_CR3.w    ; External interrupt control 
                                                                ;register 3
 160                         
 161  000000                                 EXTERN   EXTI_SR1.w    ; External interrupt status 
                                                                ;register 1
 162                         
 163  000000                                 EXTERN   EXTI_SR2.w    ; External interrupt status 
                                                                ;register 2
 164                         
 165  000000                                 EXTERN   EXTI_CONF1.w  ; External interrupt port select
                                                                ; register 1
 166                         
 167                         ; Wait For Event (WFE)
 168                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 5  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

                               ;;;;;;
 169                         
 170  000000                                 EXTERN   WFE_CR1.w     ; WFE control register 1
 171                         
 172  000000                                 EXTERN   WFE_CR2.w     ; WFE control register 2
 173                         
 174  000000                                 EXTERN   WFE_CR3.w     ; WFE control register 3
 175                         
 176  000000                                 EXTERN   WFE_CR4.w     ; WFE control register 4
 177                         
 178                         ; External Interrupt Control Register (ITC)
 179                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 180                         
 181  000000                                 EXTERN   EXTI_CR4.w    ; External interrupt control 
                                                                ;register 4
 182                         
 183  000000                                 EXTERN   EXTI_CONF2.w  ; External interrupt port select
                                                                ; register 2
 184                         
 185                         ; Reset (RST)
 186                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 187                         
 188  000000                                 EXTERN   RST_CR.w      ; Reset control register
 189                         
 190  000000                                 EXTERN   RST_SR.w      ; Reset status register
 191                         
 192                         ; Power control (PWR)
 193                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 194                         
 195  000000                                 EXTERN   PWR_CSR1.w    ; Power control and status 
                                                                ;register 1
 196                         
 197  000000                                 EXTERN   PWR_CSR2.w    ; Power control and status 
                                                                ;register 2
 198                         
 199                         ; Clock Control (CLK)
 200                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 201                         
 202  000000                                 EXTERN   CLK_CKDIVR.w  ; System clock divider register
 203                         
 204  000000                                 EXTERN   CLK_CRTCR.w   ; Clock RTC register
 205                         
 206  000000                                 EXTERN   CLK_ICKCR.w   ; Internal clock control 
                                                                ;register
 207                         
 208  000000                                 EXTERN   CLK_PCKENR1.w  ; Peripheral clock gating 
                                                                ;register 1
 209                         
 210  000000                                 EXTERN   CLK_PCKENR2.w  ; Peripheral clock gating 
                                                                ;register 2
 211                         
 212  000000                                 EXTERN   CLK_CCOR.w    ; Configurable clock control 
                                                                ;register
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 6  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 213                         
 214  000000                                 EXTERN   CLK_ECKCR.w   ; External clock control 
                                                                ;register
 215                         
 216  000000                                 EXTERN   CLK_SCSR.w    ; System clock status register
 217                         
 218  000000                                 EXTERN   CLK_SWR.w     ; System clock switch register
 219                         
 220  000000                                 EXTERN   CLK_SWCR.w    ; Clock switch control register
 221                         
 222  000000                                 EXTERN   CLK_CSSR.w    ; Clock security system 
                                                                ;register
 223                         
 224  000000                                 EXTERN   CLK_CBEEPR.w  ; Clock BEEP register
 225                         
 226  000000                                 EXTERN   CLK_HSICALR.w  ; HSI calibration register
 227                         
 228  000000                                 EXTERN   CLK_HSITRIMR.w  ; HSI clock calibration trimming
                                                                ; register
 229                         
 230  000000                                 EXTERN   CLK_HSIUNLCKR.w  ; HSI unlock register
 231                         
 232  000000                                 EXTERN   CLK_REGCSR.w  ; Main regulator control status 
                                                                ;register
 233                         
 234  000000                                 EXTERN   CLK_PCKENR3.w  ; Peripheral clock gating 
                                                                ;register 3
 235                         
 236                         ; Window Watchdog (WWDG)
 237                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 238                         
 239  000000                                 EXTERN   WWDG_CR.w     ; WWDG Control Register
 240                         
 241  000000                                 EXTERN   WWDG_WR.w     ; WWDR Window Register
 242                         
 243                         ; Independent Watchdog (IWDG)
 244                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 245                         
 246  000000                                 EXTERN   IWDG_KR.w     ; IWDG Key Register
 247                         
 248  000000                                 EXTERN   IWDG_PR.w     ; IWDG Prescaler Register
 249                         
 250  000000                                 EXTERN   IWDG_RLR.w    ; IWDG Reload Register
 251                         
 252                         ; Beeper (BEEP)
 253                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 254                         
 255  000000                                 EXTERN   BEEP_CSR1.w   ; BEEP Control/Status Register 
                                                                ;1
 256                         
 257  000000                                 EXTERN   BEEP_CSR2.w   ; BEEP Control/Status Register 
                                                                ;2
 258                         
 259                         ; Real-time clock (RTC)
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 7  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 260                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 261                         
 262  000000                                 EXTERN   RTC_TR1.w     ; Time Register 1
 263                         
 264  000000                                 EXTERN   RTC_TR2.w     ; Time Register 2
 265                         
 266  000000                                 EXTERN   RTC_TR3.w     ; Time Register 3
 267                         
 268  000000                                 EXTERN   RTC_DR1.w     ; Date Register 1
 269                         
 270  000000                                 EXTERN   RTC_DR2.w     ; Date Register 2
 271                         
 272  000000                                 EXTERN   RTC_DR3.w     ; Date Register 3
 273                         
 274  000000                                 EXTERN   RTC_CR1.w     ; Control Register 1
 275                         
 276  000000                                 EXTERN   RTC_CR2.w     ; Control Register 2
 277                         
 278  000000                                 EXTERN   RTC_CR3.w     ; Control Register 3
 279                         
 280  000000                                 EXTERN   RTC_ISR1.w    ; Initialization and Status 
                                                                ;Register 1
 281                         
 282  000000                                 EXTERN   RTC_ISR2.w    ; Initialization and Status 
                                                                ;Register 2
 283                         
 284  000000                                 EXTERN   RTC_SPRERH.w  ; Synchronous Prescaler Register
                                                                ; High
 285                         
 286  000000                                 EXTERN   RTC_SPRERL.w  ; Synchronous Prescaler Register
                                                                ; Low
 287                         
 288  000000                                 EXTERN   RTC_APRER.w   ; Asynchronous Prescaler 
                                                                ;Register
 289                         
 290  000000                                 EXTERN   RTC_WUTRH.w   ; Wakeup Timer Register High
 291                         
 292  000000                                 EXTERN   RTC_WUTRL.w   ; Wakeup Timer Register Low
 293                         
 294  000000                                 EXTERN   RTC_SSRH.w    ; Subsecond Register High
 295                         
 296  000000                                 EXTERN   RTC_SSRL.w    ; Subsecond Register Low
 297                         
 298  000000                                 EXTERN   RTC_WPR.w     ; Write Protection Register
 299                         
 300  000000                                 EXTERN   RTC_SHIFTRH.w  ; Shift Register High
 301                         
 302  000000                                 EXTERN   RTC_SHIFTRL.w  ; Shift Register Low
 303                         
 304  000000                                 EXTERN   RTC_ALRMAR1.w  ; Alarm A Register 1
 305                         
 306  000000                                 EXTERN   RTC_ALRMAR2.w  ; Alarm A Register 2
 307                         
 308  000000                                 EXTERN   RTC_ALRMAR3.w  ; Alarm A Register 3
 309                         
 310  000000                                 EXTERN   RTC_ALRMAR4.w  ; Alarm A Register 4
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 8  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 311                         
 312  000000                                 EXTERN   RTC_ALRMASSRH.w  ; Shift Register High
 313                         
 314  000000                                 EXTERN   RTC_ALRMASSRL.w  ; Shift Register Low
 315                         
 316  000000                                 EXTERN   RTC_ALRMASSMSKR.w  ; Alarm A masking Register
 317                         
 318  000000                                 EXTERN   RTC_CALRH.w   ; Shift Register High
 319                         
 320  000000                                 EXTERN   RTC_CALRL.w   ; Shift Register Low
 321                         
 322  000000                                 EXTERN   RTC_TCR1.w    ; Tamper Control Register 1
 323                         
 324  000000                                 EXTERN   RTC_TCR2.w    ; Tamper Control Register 2
 325                         
 326                         ; Clock Security System (LSE_CSS)
 327                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 328                         
 329  000000                                 EXTERN   CSS_LSE_CSR.w  ; CSS on LSE Control and Status 
                                                                ;Register
 330                         
 331                         ; Serial Peripheral Interface 1 (SPI1)
 332                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 333                         
 334  000000                                 EXTERN   SPI1_CR1.w    ; SPI1 Control Register 1
 335                         
 336  000000                                 EXTERN   SPI1_CR2.w    ; SPI1 Control Register 2
 337                         
 338  000000                                 EXTERN   SPI1_ICR.w    ; SPI1 Interrupt Control 
                                                                ;Register
 339                         
 340  000000                                 EXTERN   SPI1_SR.w     ; SPI1 Status Register
 341                         
 342  000000                                 EXTERN   SPI1_DR.w     ; SPI1 Data Register
 343                         
 344  000000                                 EXTERN   SPI1_CRCPR.w  ; SPI1 CRC Polynomial Register
 345                         
 346  000000                                 EXTERN   SPI1_RXCRCR.w  ; SPI1 Rx CRC Register
 347                         
 348  000000                                 EXTERN   SPI1_TXCRCR.w  ; SPI1 Tx CRC Register
 349                         
 350                         ; I2C Bus Interface 1 (I2C1)
 351                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 352                         
 353  000000                                 EXTERN   I2C1_CR1.w    ; I2C1 control register 1
 354                         
 355  000000                                 EXTERN   I2C1_CR2.w    ; I2C1 control register 2
 356                         
 357  000000                                 EXTERN   I2C1_FREQR.w  ; I2C1 frequency register
 358                         
 359  000000                                 EXTERN   I2C1_OARL.w   ; I2C1 Own address register low
 360                         
 361  000000                                 EXTERN   I2C1_OARH.w   ; I2C1 Own address register 
                                                                ;high
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 9  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 362                         
 363  000000                                 EXTERN   I2C1_OAR2.w   ; I2C1 Own address register for 
                                                                ;dual mode
 364                         
 365  000000                                 EXTERN   I2C1_DR.w     ; I2C1 data register
 366                         
 367  000000                                 EXTERN   I2C1_SR1.w    ; I2C1 status register 1
 368                         
 369  000000                                 EXTERN   I2C1_SR2.w    ; I2C1 status register 2
 370                         
 371  000000                                 EXTERN   I2C1_SR3.w    ; I2C1 status register 3
 372                         
 373  000000                                 EXTERN   I2C1_ITR.w    ; I2C1 interrupt control 
                                                                ;register
 374                         
 375  000000                                 EXTERN   I2C1_CCRL.w   ; I2C1 Clock control register 
                                                                ;low
 376                         
 377  000000                                 EXTERN   I2C1_CCRH.w   ; I2C1 Clock control register 
                                                                ;high
 378                         
 379  000000                                 EXTERN   I2C1_TRISER.w  ; I2C1 TRISE register
 380                         
 381  000000                                 EXTERN   I2C1_PECR.w   ; I2C1 packet error checking 
                                                                ;register
 382                         
 383                         ; Universal synch/asynch receiver transmitter 1 (USART1)
 384                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 385                         
 386  000000                                 EXTERN   USART1_SR.w   ; USART1 Status Register
 387                         
 388  000000                                 EXTERN   USART1_DR.w   ; USART1 Data Register
 389                         
 390  000000                                 EXTERN   USART1_BRR1.w  ; USART1 Baud Rate Register 1
 391                         
 392  000000                                 EXTERN   USART1_BRR2.w  ; USART1 Baud Rate Register 2
 393                         
 394  000000                                 EXTERN   USART1_CR1.w  ; USART1 Control Register 1
 395                         
 396  000000                                 EXTERN   USART1_CR2.w  ; USART1 Control Register 2
 397                         
 398  000000                                 EXTERN   USART1_CR3.w  ; USART1 Control Register 3
 399                         
 400  000000                                 EXTERN   USART1_CR4.w  ; USART1 Control Register 4
 401                         
 402  000000                                 EXTERN   USART1_CR5.w  ; USART1 Control Register 5
 403                         
 404  000000                                 EXTERN   USART1_GTR.w  ; USART1 Guard time Register
 405                         
 406  000000                                 EXTERN   USART1_PSCR.w  ; USART1 Prescaler Register
 407                         
 408                         ; 16-Bit Timer 2 (TIM2)
 409                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 410                         
 411  000000                                 EXTERN   TIM2_CR1.w    ; TIM2 Control register 1
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 10  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 412                         
 413  000000                                 EXTERN   TIM2_CR2.w    ; TIM2 Control register 2
 414                         
 415  000000                                 EXTERN   TIM2_SMCR.w   ; TIM2 Slave Mode Control 
                                                                ;register
 416                         
 417  000000                                 EXTERN   TIM2_ETR.w    ; TIM2 External trigger 
                                                                ;register
 418                         
 419  000000                                 EXTERN   TIM2_DER.w    ; TIM2 DMA request enable 
                                                                ;register
 420                         
 421  000000                                 EXTERN   TIM2_IER.w    ; TIM2 Interrupt enable 
                                                                ;register
 422                         
 423  000000                                 EXTERN   TIM2_SR1.w    ; TIM2 Status register 1
 424                         
 425  000000                                 EXTERN   TIM2_SR2.w    ; TIM2 Status register 2
 426                         
 427  000000                                 EXTERN   TIM2_EGR.w    ; TIM2 Event Generation 
                                                                ;register
 428                         
 429  000000                                 EXTERN   TIM2_CCMR1.w  ; TIM2 Capture/Compare mode 
                                                                ;register 1
 430                         
 431  000000                                 EXTERN   TIM2_CCMR2.w  ; TIM2 Capture/Compare mode 
                                                                ;register 2
 432                         
 433  000000                                 EXTERN   TIM2_CCER1.w  ; TIM2 Capture/Compare enable 
                                                                ;register 1
 434                         
 435  000000                                 EXTERN   TIM2_CNTRH.w  ; TIM2 Counter High
 436                         
 437  000000                                 EXTERN   TIM2_CNTRL.w  ; TIM2 Counter Low
 438                         
 439  000000                                 EXTERN   TIM2_PSCR.w   ; TIM2 Prescaler register
 440                         
 441  000000                                 EXTERN   TIM2_ARRH.w   ; TIM2 Auto-Reload Register 
                                                                ;High
 442                         
 443  000000                                 EXTERN   TIM2_ARRL.w   ; TIM2 Auto-Reload Register Low
 444                         
 445  000000                                 EXTERN   TIM2_CCR1H.w  ; TIM2 Capture/Compare Register 
                                                                ;1 High
 446                         
 447  000000                                 EXTERN   TIM2_CCR1L.w  ; TIM2 Capture/Compare Register 
                                                                ;1 Low
 448                         
 449  000000                                 EXTERN   TIM2_CCR2H.w  ; TIM2 Capture/Compare Register 
                                                                ;2 High
 450                         
 451  000000                                 EXTERN   TIM2_CCR2L.w  ; TIM2 Capture/Compare Register 
                                                                ;2 Low
 452                         
 453  000000                                 EXTERN   TIM2_BKR.w    ; TIM2 Break register
 454                         
 455  000000                                 EXTERN   TIM2_OISR.w   ; TIM2 Output idle state 
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 11  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

                                                                ;register
 456                         
 457                         ; 16-Bit Timer 3 (TIM3)
 458                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 459                         
 460  000000                                 EXTERN   TIM3_CR1.w    ; TIM3 Control register 1
 461                         
 462  000000                                 EXTERN   TIM3_CR2.w    ; TIM3 Control register 2
 463                         
 464  000000                                 EXTERN   TIM3_SMCR.w   ; TIM3 Slave Mode Control 
                                                                ;register
 465                         
 466  000000                                 EXTERN   TIM3_ETR.w    ; TIM3 External trigger 
                                                                ;register
 467                         
 468  000000                                 EXTERN   TIM3_DER.w    ; TIM3 DMA request enable 
                                                                ;register
 469                         
 470  000000                                 EXTERN   TIM3_IER.w    ; TIM3 Interrupt enable 
                                                                ;register
 471                         
 472  000000                                 EXTERN   TIM3_SR1.w    ; TIM3 Status register 1
 473                         
 474  000000                                 EXTERN   TIM3_SR2.w    ; TIM3 Status register 2
 475                         
 476  000000                                 EXTERN   TIM3_EGR.w    ; TIM3 Event Generation 
                                                                ;register
 477                         
 478  000000                                 EXTERN   TIM3_CCMR1.w  ; TIM3 Capture/Compare mode 
                                                                ;register 1
 479                         
 480  000000                                 EXTERN   TIM3_CCMR2.w  ; TIM3 Capture/Compare mode 
                                                                ;register 2
 481                         
 482  000000                                 EXTERN   TIM3_CCER1.w  ; TIM3 Capture/Compare enable 
                                                                ;register 1
 483                         
 484  000000                                 EXTERN   TIM3_CNTRH.w  ; TIM3 Counter High
 485                         
 486  000000                                 EXTERN   TIM3_CNTRL.w  ; TIM3 Counter Low
 487                         
 488  000000                                 EXTERN   TIM3_PSCR.w   ; TIM3 Prescaler register
 489                         
 490  000000                                 EXTERN   TIM3_ARRH.w   ; TIM3 Auto-Reload Register 
                                                                ;High
 491                         
 492  000000                                 EXTERN   TIM3_ARRL.w   ; TIM3 Auto-Reload Register Low
 493                         
 494  000000                                 EXTERN   TIM3_CCR1H.w  ; TIM3 Capture/Compare Register 
                                                                ;1 High
 495                         
 496  000000                                 EXTERN   TIM3_CCR1L.w  ; TIM3 Capture/Compare Register 
                                                                ;1 Low
 497                         
 498  000000                                 EXTERN   TIM3_CCR2H.w  ; TIM3 Capture/Compare Register 
                                                                ;2 High
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 12  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 499                         
 500  000000                                 EXTERN   TIM3_CCR2L.w  ; TIM3 Capture/Compare Register 
                                                                ;2 Low
 501                         
 502  000000                                 EXTERN   TIM3_BKR.w    ; TIM3 Break register
 503                         
 504  000000                                 EXTERN   TIM3_OISR.w   ; TIM3 Output idle state 
                                                                ;register
 505                         
 506                         ; 8-Bit  Timer 4 (TIM4)
 507                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 508                         
 509  000000                                 EXTERN   TIM4_CR1.w    ; TIM4 Control Register 1
 510                         
 511  000000                                 EXTERN   TIM4_CR2.w    ; TIM4 Control Register 2
 512                         
 513  000000                                 EXTERN   TIM4_SMCR.w   ; TIM4 Slave Mode Control 
                                                                ;Register
 514                         
 515  000000                                 EXTERN   TIM4_DER.w    ; TIM4 DMA request Enable 
                                                                ;Register
 516                         
 517  000000                                 EXTERN   TIM4_IER.w    ; TIM4 Interrupt Enable 
                                                                ;Register
 518                         
 519  000000                                 EXTERN   TIM4_SR1.w    ; TIM4 Status Register 1
 520                         
 521  000000                                 EXTERN   TIM4_EGR.w    ; TIM4 Event Generation 
                                                                ;Register
 522                         
 523  000000                                 EXTERN   TIM4_CNTR.w   ; TIM4 Counter
 524                         
 525  000000                                 EXTERN   TIM4_PSCR.w   ; TIM4 Prescaler Register
 526                         
 527  000000                                 EXTERN   TIM4_ARR.w    ; TIM4 Auto-Reload Register
 528                         
 529                         ; Infra Red Interface (IR)
 530                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 531                         
 532  000000                                 EXTERN   IR_CR.w       ; Infra-red control register
 533                         
 534                         ; Analog to digital converter 1 (ADC1)
 535                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 536                         
 537  000000                                 EXTERN   ADC1_CR1.w    ; ADC1 Configuration register 1
 538                         
 539  000000                                 EXTERN   ADC1_CR2.w    ; ADC1 Configuration register 2
 540                         
 541  000000                                 EXTERN   ADC1_CR3.w    ; ADC1 Configuration register 3
 542                         
 543  000000                                 EXTERN   ADC1_SR.w     ; ADC1 status register
 544                         
 545  000000                                 EXTERN   ADC1_DRH.w    ; ADC Data Register High
 546                         
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 13  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 547  000000                                 EXTERN   ADC1_DRL.w    ; ADC Data Register Low
 548                         
 549  000000                                 EXTERN   ADC1_HTRH.w   ; ADC High Threshold Register 
                                                                ;High
 550                         
 551  000000                                 EXTERN   ADC1_HTRL.w   ; ADC High Threshold Register 
                                                                ;Low
 552                         
 553  000000                                 EXTERN   ADC1_LTRH.w   ; ADC Low Threshold Register 
                                                                ;High
 554                         
 555  000000                                 EXTERN   ADC1_LTRL.w   ; ADC Low Threshold Register 
                                                                ;Low
 556                         
 557  000000                                 EXTERN   ADC1_SQR1.w   ; ADC1 channel sequence 1 
                                                                ;register
 558                         
 559  000000                                 EXTERN   ADC1_SQR2.w   ; ADC1 channel sequence 2 
                                                                ;register
 560                         
 561  000000                                 EXTERN   ADC1_SQR3.w   ; ADC1 channel sequence 3 
                                                                ;register
 562                         
 563  000000                                 EXTERN   ADC1_SQR4.w   ; ADC1 channel sequence 4 
                                                                ;register
 564                         
 565  000000                                 EXTERN   ADC1_TRIGR1.w  ; ADC1 Trigger disable 1
 566                         
 567  000000                                 EXTERN   ADC1_TRIGR2.w  ; ADC1 Trigger disable 2
 568                         
 569  000000                                 EXTERN   ADC1_TRIGR3.w  ; ADC1 Trigger disable 3
 570                         
 571  000000                                 EXTERN   ADC1_TRIGR4.w  ; ADC1 Trigger disable 4
 572                         
 573                         ; Routing interface (RI)
 574                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 575                         
 576  000000                                 EXTERN   RI_ICR1.w     ; Timer input capture routing 
                                                                ;register 1
 577                         
 578  000000                                 EXTERN   RI_ICR2.w     ; Timer input capture routing 
                                                                ;register 2
 579                         
 580  000000                                 EXTERN   RI_IOIR1.w    ; I/O input register 1
 581                         
 582  000000                                 EXTERN   RI_IOIR2.w    ; I/O input register 2
 583                         
 584  000000                                 EXTERN   RI_IOIR3.w    ; I/O input register 3
 585                         
 586  000000                                 EXTERN   RI_IOCMR1.w   ; I/O control mode register 1
 587                         
 588  000000                                 EXTERN   RI_IOCMR2.w   ; I/O control mode register 2
 589                         
 590  000000                                 EXTERN   RI_IOCMR3.w   ; I/O control mode register 3
 591                         
 592  000000                                 EXTERN   RI_IOSR1.w    ; I/O switch register 1
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 14  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 593                         
 594  000000                                 EXTERN   RI_IOSR2.w    ; I/O switch register 2
 595                         
 596  000000                                 EXTERN   RI_IOSR3.w    ; I/O switch register 3
 597                         
 598  000000                                 EXTERN   RI_IOGCR.w    ; I/O group control register
 599                         
 600  000000                                 EXTERN   RI_ASCR1.w    ; Analog switch register 1
 601                         
 602  000000                                 EXTERN   RI_ASCR2.w    ; Analog switch register 2
 603                         
 604  000000                                 EXTERN   RI_RCR.w      ; Resistor control register
 605                         
 606  000000                                 EXTERN   RI_CR.w       ; I/O control register
 607                         
 608  000000                                 EXTERN   RI_MASKR1.w   ; I/O mask register 1
 609                         
 610  000000                                 EXTERN   RI_MASKR2.w   ; I/O mask register 2
 611                         
 612  000000                                 EXTERN   RI_MASKR3.w   ; I/O mask register 3
 613                         
 614  000000                                 EXTERN   RI_MASKR4.w   ; I/O mask register 4
 615                         
 616  000000                                 EXTERN   RI_IOIR4.w    ; I/O input register 4
 617                         
 618  000000                                 EXTERN   RI_IOCMR4.w   ; I/O control mode register 4
 619                         
 620  000000                                 EXTERN   RI_IOSR4.w    ; I/O switch register 4
 621                         
 622                         ; Global configuration register (CFG)
 623                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 624                         
 625  000000                                 EXTERN   CFG_GCR.w     ; CFG Global configuration 
                                                                ;register
 626                         
 627                         ; Interrupt Software Priority Registers (ITC)
 628                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 629                         
 630  000000                                 EXTERN   ITC_SPR1.w    ; Interrupt Software priority 
                                                                ;register 1
 631                         
 632  000000                                 EXTERN   ITC_SPR2.w    ; Interrupt Software priority 
                                                                ;register 2
 633                         
 634  000000                                 EXTERN   ITC_SPR3.w    ; Interrupt Software priority 
                                                                ;register 3
 635                         
 636  000000                                 EXTERN   ITC_SPR4.w    ; Interrupt Software priority 
                                                                ;register 4
 637                         
 638  000000                                 EXTERN   ITC_SPR5.w    ; Interrupt Software priority 
                                                                ;register 5
 639                         
 640  000000                                 EXTERN   ITC_SPR6.w    ; Interrupt Software priority 
                                                                ;register 6
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 15  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 641                         
 642  000000                                 EXTERN   ITC_SPR7.w    ; Interrupt Software priority 
                                                                ;register 7
 643                         
 644  000000                                 EXTERN   ITC_SPR8.w    ; Interrupt Software priority 
                                                                ;register 8
 645                         
 646  000000                                 #endif                 ; __STM8L051F3__
<END_OF_INCLUSION>
   3  000000                                 extern   mode
   4  000000                                 extern   seconds
   5  000000                                 extern   minutes
   6  000000                                 extern   hours
   7  000000                                 extern   date
   8  000000                                 extern   monthweekd
   9  000000                                 extern   year
  10  000000                                 extern   cls
  11  000000                                 extern   delay
  12  000000                                 extern   bcd_dec
  13  000000                                 extern   dec_bcd
  14  000000                                 extern   byte1
  15  000000                                 extern   byte2
  16  000000                                 extern   numofdays
  17  000000                                 extern   get_wd_string
  18  000000                                 extern   daystab
  19  000000                                 extern   melody
  20  000000                                 extern   beeperflag
  21  000000                                 extern   stop
  22  000000                                 extern   voltage
  23  000000                                 extern   set_threshold
  24  000000                                 extern   calibr
  25  000000                                 extern   hrly
  26                                   
  27                                   segment  'rom'
  28  000000                       CEN       equ      0
  29  000000                       UIF       equ      0
  30  000007                       INIT      equ      7
  31  000006                       INITF     equ      6
  32  000005                       RSF       equ      5
  33  000000                       ALRAE     equ      0
  34  000000                       ALRAWF    equ      0
  35                         
  36  000000                       CFG_GCR_SWD  equ      0
  37  000000                       PCKEN10   equ      0
  38  000001                       PCKEN11   equ      1
  39  000002                       PCKEN12   equ      2
  40  000004                       MELODY_NUM  equ      4
  41                         
  42  000000                       PVDE      equ      0
  43  000000                       VREFINTF  equ      0
  44  000005                       PVDIF     equ      5
  45  000006                       PVDOF     equ      6
  46                         
  47  000007                       CALP      equ      7
  48  000001                       RECALPF   equ      1
  49  000000                       CALM8     equ      0
  50                         
  51  000002                       WUTWF     equ      2
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 16  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

  52  000002                       WUTE      equ      2
  53  000002                       WUTF      equ      2
  54  000000                       WUCKSEL0  equ      0
  55  000001                       WUCKSEL1  equ      1
  56  000002                       WUCKSEL2  equ      2
  57                         
  58                                   segment  'ram0'
  59  000000                       .key1flag  ds.b     
  60  000001                       .key2flag  ds.b     
  61  000002                       .key3flag  ds.b     
  62  000003                       .key4flag  ds.b     
  63  000004                       .timerflag  ds.b     
  64  000005                       scndslft  ds.w     
  65                         
  66                                   segment  'rom'
  67                         .delay:   
  68  000000 X 72110000                      bres     TIM2_SR1, #UIF  ;  
  69  000004 R 72110000                      bres     timerflag, #0  ;  
                                                                ;												
  70  000008   9E                            ld       a, xh
  71  000009 X C70000                        ld       TIM2_ARRH, a  ;    
                                                                ;
  72  00000C   9F                            ld       a, xl
  73  00000D X C70000                        ld       TIM2_ARRL, a
  74  000010 X 35000000                      mov      TIM2_CNTRH, #$00  ;  
  75  000014 X 35000000                      mov      TIM2_CNTRL, #$00
  76  000018 X 72100000                      bset     TIM2_CR1, #CEN  ; 
  77  00001C   81                            ret      
  78                                   
  79                         .keyparse:  
  80  00001D   A601                          ld       a, #1
  81  00001F R C10000                        cp       a, key1flag   
  82  000022 R 2703                          jreq     key1parse
  83  000024 R CC0000                        jp       keyparse2
  84                                   
  85                         key1parse  
  86  000027 R 35000000                      mov      key1flag, #0
  87  00002B X C60000                        ld       a, mode
  88  00002E   A100                          cp       a, #0
  89  000030 R 273F                          jreq     key1_mode1    ;wait -> show_hhmm -> hhmm
  90  000032   A10A                          cp       a, #10
  91  000034 R 2746                          jreq     key1_mode2    ;hhmm -> show_ss
  92  000036   A102                          cp       a, #2
  93  000038 R 2737                          jreq     key1_mode1    ;show_ss -> show_hhmm -> hhmm
  94  00003A   A115                          cp       a, #21
  95  00003C R 2743                          jreq     key1_mode21   ;setup ss -> accept_ss -> 
                                                                ;show_ss
  96                                   
  97  00003E   A10B                          cp       a, #11
  98  000040 R 274D                          jreq     key1_mode11   ;setup_mm: inc_mm
  99  000042   A10D                          cp       a, #13
 100  000044 R 274D                          jreq     key1_mode13   ;setup_hh: inc_hh
 101  000046   A11F                          cp       a, #31
 102  000048 R 274D                          jreq     key1_mode31   ;setup_mt: inc_mt
 103  00004A   A121                          cp       a, #33
 104  00004C R 274D                          jreq     key1_mode33   ;setup_dd: inc_dd
 105  00004E   A129                          cp       a, #41
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 17  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 106  000050 R 274D                          jreq     key1_mode41   ;setup_wd: inc_wd
 107  000052   A133                          cp       a, #51
 108  000054 R 274D                          jreq     key1_mode51   ;setup_wd: inc_yyyy
 109                                   
 110  000056   A13D                          cp       a, #61
 111  000058 R 274D                          jreq     key1_mode61   ;setup_alrm_mm: inc_amm
 112  00005A   A13F                          cp       a, #63
 113  00005C R 274D                          jreq     key1_mode63   ;setup_alrm_hh: inc_ahh
 114  00005E   A141                          cp       a, #65
 115  000060 R 274D                          jreq     key1_mode65   ;setup_melody: inc_melody
 116  000062   A142                          cp       a, #66
 117  000064 R 274D                          jreq     key1_mode66   ;arm_alrm: toggle_alrm_arm
 118  000066   A151                          cp       a, #81
 119  000068 R 274D                          jreq     key1_mode81   ;setup_clbr: inc_clbr
 120  00006A   A15B                          cp       a, #91
 121  00006C R 274D                          jreq     key1_mode91   ;setup_hrly: toggle_hrly
 122  00006E R 2001                          jra      key1_mode1
 123  000070   81                            ret      
 124                                   
 125                         key1_mode1  
 126  000071 X 35010000                      mov      mode, #1
 127  000075   AE3000                        ldw      x, #12288
 128  000078 R CD0000                        call     delay
 129  00007B   81                            ret      
 130                         key1_mode2  
 131  00007C X 35020000                      mov      mode, #2
 132                                                          ;ldw x, #20480
 133                                                          ;call delay
 134  000080   81                            ret      
 135                         key1_mode21  
 136  000081 R CD0000                        call     reset_ss
 137  000084 X 35020000                      mov      mode, #2
 138  000088   AE5000                        ldw      x, #20480
 139  00008B R CD0000                        call     delay
 140  00008E   81                            ret      
 141                         key1_mode11  
 142  00008F R CD0000                        call     inc_mm
 143  000092   81                            ret      
 144                         key1_mode13  
 145  000093 R CD0000                        call     inc_hh
 146  000096   81                            ret      
 147                         key1_mode31  
 148  000097 R CD0000                        call     inc_mt
 149  00009A   81                            ret      
 150                         key1_mode33  
 151  00009B R CD0000                        call     inc_dd
 152  00009E   81                            ret      
 153                         key1_mode41  
 154  00009F R CD0000                        call     inc_wd
 155  0000A2   81                            ret      
 156                         key1_mode51  
 157  0000A3 R CD0000                        call     inc_yyyy
 158  0000A6   81                            ret      
 159                         key1_mode61:  
 160  0000A7 R CD0000                        call     inc_amm
 161  0000AA   81                            ret      
 162                         key1_mode63  
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 18  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 163  0000AB R CD0000                        call     inc_ahh
 164  0000AE   81                            ret      
 165                         key1_mode65  
 166  0000AF R CD0000                        call     inc_melody
 167  0000B2   81                            ret      
 168                         key1_mode66  
 169  0000B3 R CD0000                        call     toggle_alrm_arm
 170  0000B6   81                            ret      
 171                         key1_mode81  
 172  0000B7 R CD0000                        call     inc_clbr
 173  0000BA   81                            ret      
 174                         key1_mode91  
 175  0000BB R CD0000                        call     toggle_hrly
 176  0000BE   81                            ret      
 177                         
 178                         keyparse2:  
 179  0000BF R C10000                        cp       a, key2flag
 180  0000C2 R 2703                          jreq     key2parse
 181  0000C4 R CC0000                        jp       keyparse3
 182                                   
 183                         key2parse  
 184  0000C7 R 35000000                      mov      key2flag, #0
 185  0000CB X C60000                        ld       a, mode
 186  0000CE   A100                          cp       a, #0
 187  0000D0 R 273F                          jreq     key2_mode3    ;wait -> show_ddmm -> ddmm
 188  0000D2   A11E                          cp       a, #30
 189  0000D4 R 2746                          jreq     key2_mode4    ;ddmm -> show_wd -> wd
 190  0000D6   A128                          cp       a, #40
 191  0000D8 R 274D                          jreq     key2_mode5    ;wd -> show_yyyy -> yyyy
 192  0000DA   A132                          cp       a, #50
 193  0000DC R 2733                          jreq     key2_mode3    ;yyyy -> show_ddmm -> ddmm
 194                                   
 195  0000DE   A10B                          cp       a, #11
 196  0000E0 R 2750                          jreq     key2_mode11   ;setup_mm: dec_mm
 197  0000E2   A10D                          cp       a, #13
 198  0000E4 R 2750                          jreq     key2_mode13   ;setup_hh: dec_hh
 199  0000E6   A11F                          cp       a, #31
 200  0000E8 R 2750                          jreq     key2_mode31   ;setup_mt: dec_mt
 201  0000EA   A121                          cp       a, #33
 202  0000EC R 2750                          jreq     key2_mode33   ;setup_dd: dec_dd
 203  0000EE   A129                          cp       a, #41
 204  0000F0 R 2750                          jreq     key2_mode41   ;setup_wd: dec_wd
 205  0000F2   A133                          cp       a, #51
 206  0000F4 R 2750                          jreq     key2_mode51   ;setup_yyyy: dec_yyyy
 207                                   
 208  0000F6   A13D                          cp       a, #61
 209  0000F8 R 2750                          jreq     key2_mode61   ;setup_alrm_mm: dec_amm
 210  0000FA   A13F                          cp       a, #63
 211  0000FC R 2750                          jreq     key2_mode63   ;setup_alrm_hh: dec_ahh
 212  0000FE   A141                          cp       a, #65
 213  000100 R 2750                          jreq     key2_mode65   ;setup_melody: dec_melody
 214  000102   A142                          cp       a, #66
 215  000104 R 2750                          jreq     key2_mode66   ;arm_alrm: toggle_alrm_arm
 216  000106   A151                          cp       a, #81
 217  000108 R 2750                          jreq     key2_mode81   ;setup_clbr: dec_clbr
 218  00010A   A15B                          cp       a, #91
 219  00010C R 2750                          jreq     key2_mode91   ;setup_hrly: toggle_hrly
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 19  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 220  00010E R 2001                          jra      key2_mode3
 221  000110   81                            ret      
 222                                   
 223                         key2_mode3  
 224  000111 X 35030000                      mov      mode, #3
 225  000115   AE3000                        ldw      x, #12288
 226  000118 R CD0000                        call     delay
 227  00011B   81                            ret      
 228                         key2_mode4  
 229  00011C X 35040000                      mov      mode, #4
 230  000120   AE3000                        ldw      x, #12288
 231  000123 R CD0000                        call     delay
 232  000126   81                            ret      
 233                         key2_mode5  
 234  000127 X 35050000                      mov      mode, #5
 235  00012B   AE3000                        ldw      x, #12288
 236  00012E R CD0000                        call     delay
 237  000131   81                            ret      
 238                         key2_mode11  
 239  000132 R CD0000                        call     dec_mm
 240  000135   81                            ret      
 241                         key2_mode13  
 242  000136 R CD0000                        call     dec_hh
 243  000139   81                            ret      
 244                         key2_mode31  
 245  00013A R CD0000                        call     dec_mt
 246  00013D   81                            ret      
 247                         key2_mode33  
 248  00013E R CD0000                        call     dec_dd
 249  000141   81                            ret      
 250                         key2_mode41  
 251  000142 R CD0000                        call     dec_wd
 252  000145   81                            ret      
 253                         key2_mode51  
 254  000146 R CD0000                        call     dec_yyyy
 255  000149   81                            ret      
 256                         key2_mode61  
 257  00014A R CD0000                        call     dec_amm
 258  00014D   81                            ret      
 259                         key2_mode63  
 260  00014E R CD0000                        call     dec_ahh
 261  000151   81                            ret      
 262                         key2_mode65  
 263  000152 R CD0000                        call     dec_melody
 264  000155   81                            ret      
 265                         key2_mode66  
 266  000156 R CD0000                        call     toggle_alrm_arm
 267  000159   81                            ret      
 268                         key2_mode81  
 269  00015A R CD0000                        call     dec_clbr
 270  00015D   81                            ret      
 271                         key2_mode91  
 272  00015E R CD0000                        call     toggle_hrly
 273  000161   81                            ret      
 274                         
 275                         keyparse3:  
 276  000162 R C10000                        cp       a, key3flag
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 20  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 277  000165 R 2703                          jreq     key3parse
 278  000167 R CC0000                        jp       keyparse4
 279                         
 280                         key3parse:  
 281  00016A R 35000000                      mov      key3flag, #0
 282  00016E X C60000                        ld       a, mode
 283                                   
 284  000171   A100                          cp       a, #0
 285  000173 R 270F                          jreq     key3_mode7    ;sleep -> show_batterty_v
 286  000175   A107                          cp       a, #7
 287  000177 R 271D                          jreq     key3_mode8    ;show_batterty_v -> 
                                                                ;show_clbr_val
 288  000179   A150                          cp       a, #80
 289  00017B R 2724                          jreq     key3_mode9    ;show_clbr_val -> show_hrly
 290  00017D   A15A                          cp       a, #90
 291  00017F R 2703                          jreq     key3_mode7    ;show_hrly -> show_batterty_v
 292  000181 R 2001                          jra      key3_mode7
 293  000183   81                            ret      
 294                                   
 295                         key3_mode7  
 296  000184 X 35060000                      mov      voltage, #6
 297  000188 X CD0000                        call     set_threshold
 298  00018B   AE3000                        ldw      x, #12288
 299  00018E R CD0000                        call     delay
 300  000191 X 35070000                      mov      mode, #7
 301  000195   81                            ret      
 302                         key3_mode8  
 303  000196   AE3000                        ldw      x, #12288
 304  000199 R CD0000                        call     delay
 305  00019C X 35080000                      mov      mode, #8
 306  0001A0   81                            ret      
 307                         key3_mode9  
 308  0001A1   AE3000                        ldw      x, #12288
 309  0001A4 R CD0000                        call     delay
 310  0001A7 X 35090000                      mov      mode, #9
 311  0001AB   81                            ret      
 312                                   
 313                         keyparse4:  
 314  0001AC R C10000                        cp       a, key4flag
 315  0001AF R 2701                          jreq     key4parse
 316  0001B1   81                            ret      
 317                                   
 318                         key4parse:  
 319  0001B2 R 35000000                      mov      key4flag, #0
 320                                   
 321  0001B6 X 720400003B                    btjt     beeperflag, #2, key4_beep_off
 322                                   
 323  0001BB   AE0400                        ldw      x, #1024
 324  0001BE R CD0000                        call     delay
 325  0001C1 X C60000                        ld       a, mode
 326                                   
 327  0001C4   A102                          cp       a, #2
 328  0001C6 R 2737                          jreq     key4_mode21   ;show_ss -> setup_ss
 329  0001C8   A115                          cp       a, #21
 330  0001CA R 2738                          jreq     key4_mode22   ;setup_ss -> show_ss
 331                                   
 332  0001CC   A10A                          cp       a, #10
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 21  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 333  0001CE R 273F                          jreq     key4_mode11   ;hhmm -> setup_mm
 334  0001D0   A10B                          cp       a, #11
 335  0001D2 R 2740                          jreq     key4_mode12   ;setup_mm -> accept_mm -> 
                                                                ;setup_hh
 336  0001D4   A10D                          cp       a, #13
 337  0001D6 R 2741                          jreq     key4_mode14   ;setup_hh -> accept_hh -> 
                                                                ;show_hhmm
 338                                   
 339  0001D8   A11E                          cp       a, #30
 340  0001DA R 2748                          jreq     key4_mode31   ;ddmm -> setup_mt
 341  0001DC   A11F                          cp       a, #31
 342  0001DE R 2749                          jreq     key4_mode32   ;setup_mt -> accept_mt -> 
                                                                ;setup_dd
 343  0001E0   A121                          cp       a, #33
 344  0001E2 R 274A                          jreq     key4_mode34   ;setup_dd -> accept_dd -> 
                                                                ;show_ddmm
 345                                   
 346  0001E4   A128                          cp       a, #40
 347  0001E6 R 2751                          jreq     key4_mode41   ;wd -> setup_wd
 348  0001E8   A129                          cp       a, #41
 349  0001EA R 2752                          jreq     key4_mode42   ;setup_wd -> accept_wd -> 
                                                                ;show_wd
 350                                   
 351  0001EC   A132                          cp       a, #50
 352  0001EE R 2759                          jreq     key4_mode51   ;yyyy -> setup_yyyy
 353  0001F0   A133                          cp       a, #51
 354  0001F2 R 275A                          jreq     key4_mode52   ;setup_yyyy -> accept_yyyy -> 
                                                                ;show_yyyy
 355                                   
 356  0001F4 R 2063                          jra      key4parse2
 357                         
 358                         key4_beep_off  
 359  0001F6 X 72120000                      bset     beeperflag, #1
 360  0001FA X 72150000                      bres     beeperflag, #2
 361  0001FE   81                            ret      
 362                         key4_mode21  
 363  0001FF X 35150000                      mov      mode, #21
 364  000203   81                            ret      
 365                         key4_mode22  
 366  000204   AE3000                        ldw      x, #12288
 367  000207 R CD0000                        call     delay
 368  00020A X 35020000                      mov      mode, #2
 369  00020E   81                            ret      
 370                         key4_mode11  
 371  00020F X 350B0000                      mov      mode, #11
 372  000213   81                            ret      
 373                         key4_mode12  
 374  000214 X 350C0000                      mov      mode, #12
 375  000218   81                            ret      
 376                         key4_mode14  
 377  000219 X 350E0000                      mov      mode, #14
 378  00021D   AE3000                        ldw      x, #12288
 379  000220 R CD0000                        call     delay
 380  000223   81                            ret      
 381                         key4_mode31  
 382  000224 X 351F0000                      mov      mode, #31
 383  000228   81                            ret      
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 22  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 384                         key4_mode32  
 385  000229 X 35200000                      mov      mode, #32
 386  00022D   81                            ret      
 387                         key4_mode34  
 388  00022E X 35220000                      mov      mode, #34
 389  000232   AE3000                        ldw      x, #12288
 390  000235 R CD0000                        call     delay
 391  000238   81                            ret      
 392                         key4_mode41  
 393  000239 X 35290000                      mov      mode, #41
 394  00023D   81                            ret      
 395                         key4_mode42  
 396  00023E X 352A0000                      mov      mode, #42
 397  000242   AE3000                        ldw      x, #12288
 398  000245 R CD0000                        call     delay
 399  000248   81                            ret      
 400                         key4_mode51  
 401  000249 X 35330000                      mov      mode, #51
 402  00024D   81                            ret      
 403                         key4_mode52  
 404  00024E X 35340000                      mov      mode, #52
 405  000252   AE3000                        ldw      x, #12288
 406  000255 R CD0000                        call     delay
 407  000258   81                            ret      
 408                         
 409                         key4parse2:  
 410  000259   A100                          cp       a, #0
 411  00025B R 2729                          jreq     key4_mode6    ;halt -> alrm_hhmm
 412  00025D   A13C                          cp       a, #60
 413  00025F R 2730                          jreq     key4_mode61   ;alrm_hhmm -> setup_alrm_mm
 414  000261   A13D                          cp       a, #61
 415  000263 R 2731                          jreq     key4_mode62   ;setup_alrm_mm -> accept_alrm_mm
                                                                ; -> setup_alrm_hh
 416  000265   A13F                          cp       a, #63
 417  000267 R 2732                          jreq     key4_mode64   ;setup_alrm_hh -> accept_alrm_hh
                                                                ; -> setup_melody
 418  000269   A141                          cp       a, #65
 419  00026B R 2737                          jreq     key4_mode66   ;setup_melody -> arm_alrm
 420  00026D   A142                          cp       a, #66
 421  00026F R 2715                          jreq     key4_mode6    ;arm_alrm -> alrm_hhmm -> halt
 422                                   
 423  000271   A150                          cp       a, #80
 424  000273 R 2738                          jreq     key4_mode81   ;calibration -> setup_clbr
 425  000275   A151                          cp       a, #81
 426  000277 R 2739                          jreq     key4_mode82   ;setup_clbr -> accept_clbr -> 
                                                                ;calibration
 427  000279   A15A                          cp       a, #90
 428  00027B R 2740                          jreq     key4_mode91   ;hrly -> setup_hrly
 429  00027D   A15B                          cp       a, #91
 430  00027F R 2741                          jreq     key4_mode92   ;setup_hrly -> accept_hrly -> 
                                                                ;hrly
 431  000281   A15C                          cp       a, #92
 432  000283 R 2001                          jra      key4_mode6
 433  000285   81                            ret      
 434                         
 435                         key4_mode6  
 436  000286 X 35060000                      mov      mode, #6
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 23  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 437  00028A   AE3000                        ldw      x, #12288
 438  00028D R CD0000                        call     delay
 439  000290   81                            ret      
 440                         key4_mode61  
 441  000291 X 353D0000                      mov      mode, #61
 442  000295   81                            ret      
 443                         key4_mode62  
 444  000296 X 353E0000                      mov      mode, #62
 445  00029A   81                            ret      
 446                         key4_mode64  
 447  00029B X 72160000                      bset     beeperflag, #3
 448  00029F X 35400000                      mov      mode, #64
 449  0002A3   81                            ret      
 450                         key4_mode66  
 451  0002A4 X 72170000                      bres     beeperflag, #3
 452  0002A8 X 35420000                      mov      mode, #66
 453  0002AC   81                            ret      
 454                         key4_mode81  
 455  0002AD X 35510000                      mov      mode, #81
 456  0002B1   81                            ret      
 457                         key4_mode82  
 458  0002B2 X 35520000                      mov      mode, #82
 459  0002B6   AE3000                        ldw      x, #12288
 460  0002B9 R CD0000                        call     delay
 461  0002BC   81                            ret      
 462                         key4_mode91  
 463  0002BD X 355B0000                      mov      mode, #91
 464  0002C1   81                            ret      
 465                         key4_mode92  
 466  0002C2 X 355C0000                      mov      mode, #92
 467  0002C6   81                            ret      
 468                                   
 469                         .timerparse  
 470  0002C7 R C60000                        ld       a, timerflag
 471  0002CA R 7200000001                    btjt     timerflag, #0, timer_fired
 472  0002CF   81                            ret      
 473                                   
 474                         timer_fired  
 475  0002D0 R 72110000                      bres     timerflag, #0  ;  
 476                                   
 477  0002D4 X C60000                        ld       a, mode
 478  0002D7   A107                          cp       a, #7
 479  0002D9 R 2751                          jreq     t_mode_halt
 480  0002DB   A10A                          cp       a, #10
 481  0002DD R 274D                          jreq     t_mode_halt
 482                         ;	cp a, #2
 483                         ;	jreq t_mode_halt
 484  0002DF   A11E                          cp       a, #30
 485  0002E1 R 2749                          jreq     t_mode_halt
 486  0002E3   A128                          cp       a, #40
 487  0002E5 R 2745                          jreq     t_mode_halt
 488  0002E7   A132                          cp       a, #50
 489  0002E9 R 2741                          jreq     t_mode_halt
 490  0002EB   A13C                          cp       a, #60
 491  0002ED R 273D                          jreq     t_mode_halt
 492  0002EF   A146                          cp       a, #70
 493  0002F1 R 2739                          jreq     t_mode_halt
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 24  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 494  0002F3   A150                          cp       a, #80
 495  0002F5 R 2735                          jreq     t_mode_halt
 496  0002F7   A15A                          cp       a, #90
 497  0002F9 R 2731                          jreq     t_mode_halt
 498                                   
 499  0002FB   A115                          cp       a, #21
 500  0002FD R 276A                          jreq     t_mode_flash
 501  0002FF   A10B                          cp       a, #11
 502  000301 R 2766                          jreq     t_mode_flash
 503  000303   A10D                          cp       a, #13
 504  000305 R 2762                          jreq     t_mode_flash
 505  000307   A11F                          cp       a, #31
 506  000309 R 275E                          jreq     t_mode_flash
 507  00030B   A121                          cp       a, #33
 508  00030D R 275A                          jreq     t_mode_flash
 509  00030F   A129                          cp       a, #41
 510  000311 R 2756                          jreq     t_mode_flash
 511  000313   A133                          cp       a, #51
 512  000315 R 2752                          jreq     t_mode_flash
 513  000317   A13D                          cp       a, #61
 514  000319 R 274E                          jreq     t_mode_flash
 515  00031B   A13F                          cp       a, #63
 516  00031D R 274A                          jreq     t_mode_flash
 517  00031F   A151                          cp       a, #81
 518  000321 R 2746                          jreq     t_mode_flash
 519  000323   A15B                          cp       a, #91
 520  000325 R 2742                          jreq     t_mode_flash
 521                                   
 522  000327   A164                          cp       a, #100
 523  000329 R 2749                          jreq     t_mode_beep
 524  00032B   81                            ret      
 525                                   
 526                         .t_mode_halt:                    ;
 527  00032C X CD0000                        call     cls
 528  00032F R CD0000                        call     check_hrly
 529  000332 X 35000000                      mov      mode, #0
 530  000336 X 72110000                      bres     CLK_PCKENR1, #PCKEN10  ;  TIM2
 531  00033A X 72130000                      bres     CLK_PCKENR1, #PCKEN11  ;  TIM3
 532  00033E X 72150000                      bres     CLK_PCKENR1, #PCKEN12  ;  TIM4
 533  000342 X 72100000                      bset     CFG_GCR, #CFG_GCR_SWD
 534  000346   8E                            halt     
 535                         .restore_periph  
 536  000347 X 72110000                      bres     CFG_GCR, #CFG_GCR_SWD
 537  00034B X 72140000                      bset     CLK_PCKENR1, #PCKEN12  ;  TIM4
 538  00034F X 72110000                      bres     TIM4_SR1, #UIF  ;  
 539  000353 X 72120000                      bset     CLK_PCKENR1, #PCKEN11  ;  TIM3
 540  000357 X 72110000                      bres     TIM3_SR1, #UIF  ;  
 541  00035B X 72100000                      bset     CLK_PCKENR1, #PCKEN10  ;  TIM2
 542  00035F X 72110000                      bres     TIM2_SR1, #UIF  ;  
 543                                   
 544                                                          ;bres RTC_CR2, 
                                                                ;#WUTE												;
                                                                ;  
 545                                                          ;bres RTC_ISR2, 
                                                                ;#WUTF											; 
                                                                ; 
 546                                   
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 25  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 547                         wait_vref  
 548  000363 X 72010000FB                    btjf     PWR_CSR2, #VREFINTF, wait_vref  ; - . . .
 549  000368   81                            ret      
 550                                   
 551                         t_mode_flash:                    ;
 552  000369 R 901E0000                      bcpl     timerflag, #7  ;  
 553  00036D   AE0400                        ldw      x, #1024
 554  000370 R CD0000                        call     delay
 555  000373   81                            ret      
 556                                   
 557                         t_mode_beep:  
 558  000374 X 72120000                      bset     beeperflag, #1  ; - 
 559  000378 X 35010000                      mov      mode, #1
 560  00037C   AE3000                        ldw      x, #12288
 561  00037F R CD0000                        call     delay
 562  000382   81                            ret      
 563                         
 564                         .reset_ss:  
 565  000383 X 5500000000                    mov      byte1, seconds
 566  000388 X CD0000                        call     bcd_dec
 567  00038B X C60000                        ld       a, byte2
 568  00038E   A11E                          cp       a, #30
 569  000390 R 2520                          jrult    skip_addup    ;   30  
                                                                ;. .
 570  000392 X 5500000000                    mov      byte1, minutes
 571  000397 X CD0000                        call     bcd_dec
 572  00039A X 725C0000                      inc      byte2
 573  00039E X 5500000000                    mov      byte1, byte2
 574  0003A3 X CD0000                        call     dec_bcd
 575  0003A6 X C60000                        ld       a, byte2
 576  0003A9 X C70000                        ld       minutes, a
 577  0003AC X AE0000                        ldw      x, #RTC_TR2
 578  0003AF R CD0000                        call     write_RTC_calendar
 579                         skip_addup  
 580  0003B2   4F                            clr      a             ;  0
 581  0003B3 X C70000                        ld       seconds, a
 582  0003B6 X AE0000                        ldw      x, #RTC_TR1
 583  0003B9 R CD0000                        call     write_RTC_calendar
 584  0003BC   81                            ret      
 585                                   
 586                         .inc_mm:  
 587  0003BD X 5500000000                    mov      byte1, minutes
 588  0003C2 X CD0000                        call     bcd_dec
 589  0003C5   A63B                          ld       a, #59
 590  0003C7 X C10000                        cp       a, byte2
 591  0003CA R 2719                          jreq     bottom_mm
 592  0003CC X 725C0000                      inc      byte2
 593  0003D0 X 5500000000                    mov      byte1, byte2
 594  0003D5 X CD0000                        call     dec_bcd
 595  0003D8 X C60000                        ld       a, byte2
 596  0003DB X C70000                        ld       minutes, a
 597  0003DE X AE0000                        ldw      x, #RTC_TR2
 598  0003E1 R CD0000                        call     write_RTC_calendar
 599  0003E4   81                            ret      
 600                         bottom_mm  
 601  0003E5   A600                          ld       a, #0
 602  0003E7 X C70000                        ld       minutes, a
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 26  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 603  0003EA X AE0000                        ldw      x, #RTC_TR2
 604  0003ED R CD0000                        call     write_RTC_calendar
 605  0003F0   81                            ret      
 606                         
 607                         .dec_mm:  
 608  0003F1 X 5500000000                    mov      byte1, minutes
 609  0003F6 X CD0000                        call     bcd_dec
 610  0003F9 X C60000                        ld       a, byte2
 611  0003FC   A100                          cp       a, #0
 612  0003FE R 2719                          jreq     top_mm
 613  000400 X 725A0000                      dec      byte2
 614  000404 X 5500000000                    mov      byte1, byte2
 615  000409 X CD0000                        call     dec_bcd
 616  00040C X C60000                        ld       a, byte2
 617  00040F X C70000                        ld       minutes, a
 618  000412 X AE0000                        ldw      x, #RTC_TR2
 619  000415 R CD0000                        call     write_RTC_calendar
 620  000418   81                            ret      
 621                         top_mm    
 622  000419 X 353B0000                      mov      byte1, #59
 623  00041D X CD0000                        call     dec_bcd
 624  000420 X C60000                        ld       a, byte2
 625  000423 X C70000                        ld       minutes, a
 626  000426 X AE0000                        ldw      x, #RTC_TR2
 627  000429 R CD0000                        call     write_RTC_calendar
 628  00042C   81                            ret      
 629                         
 630                         .inc_hh:  
 631  00042D X 5500000000                    mov      byte1, hours
 632  000432 X CD0000                        call     bcd_dec
 633  000435   A617                          ld       a, #23
 634  000437 X C10000                        cp       a, byte2
 635  00043A R 2719                          jreq     bottom_hh
 636  00043C X 725C0000                      inc      byte2
 637  000440 X 5500000000                    mov      byte1, byte2
 638  000445 X CD0000                        call     dec_bcd
 639  000448 X C60000                        ld       a, byte2
 640  00044B X C70000                        ld       hours, a
 641  00044E X AE0000                        ldw      x, #RTC_TR3
 642  000451 R CD0000                        call     write_RTC_calendar
 643  000454   81                            ret      
 644                         bottom_hh  
 645  000455 X C60000                        ld       a, hours
 646  000458   A4C0                          and      a, #%11000000
 647  00045A X C70000                        ld       hours, a
 648  00045D X AE0000                        ldw      x, #RTC_TR3
 649  000460 R CD0000                        call     write_RTC_calendar
 650  000463   81                            ret      
 651                         
 652                         .dec_hh:  
 653  000464 X 5500000000                    mov      byte1, hours
 654  000469 X CD0000                        call     bcd_dec
 655  00046C   A600                          ld       a, #0
 656  00046E X C10000                        cp       a, byte2
 657  000471 R 2719                          jreq     top_hh
 658  000473 X 725A0000                      dec      byte2
 659  000477 X 5500000000                    mov      byte1, byte2
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 27  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 660  00047C X CD0000                        call     dec_bcd
 661  00047F X C60000                        ld       a, byte2
 662  000482 X C70000                        ld       hours, a
 663  000485 X AE0000                        ldw      x, #RTC_TR3
 664  000488 R CD0000                        call     write_RTC_calendar
 665  00048B   81                            ret      
 666                         top_hh    
 667  00048C X 35170000                      mov      byte1, #23
 668  000490 X CD0000                        call     dec_bcd
 669  000493 X C60000                        ld       a, byte2
 670  000496 X C70000                        ld       hours, a
 671  000499 X AE0000                        ldw      x, #RTC_TR3
 672  00049C R CD0000                        call     write_RTC_calendar
 673  00049F   81                            ret      
 674                         
 675                         .inc_mt:  
 676  0004A0 X C60000                        ld       a, monthweekd
 677  0004A3   A41F                          and      a, #%00011111
 678  0004A5 X C70000                        ld       byte1, a
 679  0004A8 X CD0000                        call     bcd_dec
 680  0004AB   A60C                          ld       a, #12
 681  0004AD X C10000                        cp       a, byte2
 682  0004B0 R 271E                          jreq     bottom_mt
 683  0004B2 X 725C0000                      inc      byte2
 684  0004B6 X 5500000000                    mov      byte1, byte2
 685  0004BB X CD0000                        call     dec_bcd
 686  0004BE X C60000                        ld       a, monthweekd
 687  0004C1   A4E0                          and      a, #%11100000
 688  0004C3 X CB0000                        add      a, byte2
 689  0004C6 X C70000                        ld       monthweekd, a
 690  0004C9 X AE0000                        ldw      x, #RTC_DR2
 691  0004CC R CD0000                        call     write_RTC_calendar
 692  0004CF   81                            ret      
 693                         bottom_mt  
 694  0004D0 X C60000                        ld       a, monthweekd
 695  0004D3   A4E0                          and      a, #%11100000
 696  0004D5   4C                            inc      a
 697  0004D6 X C70000                        ld       monthweekd, a
 698  0004D9 X AE0000                        ldw      x, #RTC_DR2
 699  0004DC R CD0000                        call     write_RTC_calendar
 700  0004DF   81                            ret      
 701                         
 702                         .dec_mt:  
 703  0004E0 X C60000                        ld       a, monthweekd
 704  0004E3   A41F                          and      a, #%00011111
 705  0004E5 X C70000                        ld       byte1, a
 706  0004E8 X CD0000                        call     bcd_dec
 707  0004EB   A600                          ld       a, #0
 708  0004ED X C10000                        cp       a, byte2
 709  0004F0 R 271E                          jreq     top_mt
 710  0004F2 X 725A0000                      dec      byte2
 711  0004F6 X 5500000000                    mov      byte1, byte2
 712  0004FB X CD0000                        call     dec_bcd
 713  0004FE X C60000                        ld       a, monthweekd
 714  000501   A4E0                          and      a, #%11100000
 715  000503 X CB0000                        add      a, byte2
 716  000506 X C70000                        ld       monthweekd, a
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 28  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 717  000509 X AE0000                        ldw      x, #RTC_DR2
 718  00050C R CD0000                        call     write_RTC_calendar
 719  00050F   81                            ret      
 720                         top_mt    
 721  000510 X 350C0000                      mov      byte1, #12
 722  000514 X CD0000                        call     dec_bcd
 723  000517 X C60000                        ld       a, monthweekd
 724  00051A   A4E0                          and      a, #%11100000
 725  00051C X CB0000                        add      a, byte2
 726  00051F X C70000                        ld       monthweekd, a
 727  000522 X AE0000                        ldw      x, #RTC_DR2
 728  000525 R CD0000                        call     write_RTC_calendar
 729  000528   81                            ret      
 730                                   
 731                         .inc_dd:  
 732  000529 X C60000                        ld       a, monthweekd  ;    
                                                                ;
 733  00052C X CD0000                        call     numofdays
 734  00052F   88                            push     a
 735  000530 X 5500000000                    mov      byte1, date   ;   
 736  000535 X CD0000                        call     bcd_dec
 737  000538   84                            pop      a
 738  000539 X C10000                        cp       a, byte2
 739  00053C R 271E                          jreq     bottom_dd
 740  00053E X 725C0000                      inc      byte2         ;   ,  
                                                                ;
 741  000542 X 5500000000                    mov      byte1, byte2
 742  000547 X CD0000                        call     dec_bcd
 743  00054A X C60000                        ld       a, byte2
 744  00054D X C70000                        ld       date, a
 745  000550 X AE0000                        ldw      x, #RTC_DR1
 746  000553 R CD0000                        call     write_RTC_calendar
 747  000556 X 5500000000                    mov      date, byte2
 748  00055B   81                            ret      
 749                         bottom_dd  
 750  00055C   A601                          ld       a, #1
 751  00055E X C70000                        ld       date, a
 752  000561 X AE0000                        ldw      x, #RTC_DR1
 753  000564 R CD0000                        call     write_RTC_calendar
 754  000567   81                            ret      
 755                                   
 756                         .dec_dd:  
 757  000568 X 5500000000                    mov      byte1, date
 758  00056D X CD0000                        call     bcd_dec
 759  000570   A601                          ld       a, #1
 760  000572 X C10000                        cp       a, byte2
 761  000575 R 2719                          jreq     top_dd
 762  000577 X 725A0000                      dec      byte2
 763  00057B X 5500000000                    mov      byte1, byte2
 764  000580 X CD0000                        call     dec_bcd
 765  000583 X C60000                        ld       a, byte2
 766  000586 X C70000                        ld       date, a
 767  000589 X AE0000                        ldw      x, #RTC_DR1
 768  00058C R CD0000                        call     write_RTC_calendar
 769  00058F   81                            ret      
 770                         top_dd    
 771  000590 X C60000                        ld       a, monthweekd
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 29  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 772  000593 X CD0000                        call     numofdays
 773  000596 X C70000                        ld       byte1, a
 774  000599 X CD0000                        call     dec_bcd
 775  00059C X C60000                        ld       a, byte2
 776  00059F X C70000                        ld       date, a
 777  0005A2 X AE0000                        ldw      x, #RTC_DR1
 778  0005A5 R CD0000                        call     write_RTC_calendar
 779  0005A8   81                            ret      
 780                                   
 781                         .inc_wd:  
 782  0005A9 X C60000                        ld       a, monthweekd
 783  0005AC   A4E0                          and      a, #%11100000
 784  0005AE   4E                            swap     a
 785  0005AF   44                            srl      a
 786  0005B0   A107                          cp       a, #7
 787  0005B2 R 271F                          jreq     bottom_wd
 788  0005B4   4C                            inc      a
 789  0005B5   48                            sll      a
 790  0005B6   4E                            swap     a
 791  0005B7   88                            push     a
 792  0005B8 X C60000                        ld       a, monthweekd
 793  0005BB   A41F                          and      a, #%00011111
 794  0005BD X 320000                        pop      byte1
 795  0005C0 X CB0000                        add      a, byte1
 796  0005C3 X C70000                        ld       monthweekd, a
 797  0005C6 X AE0000                        ldw      x, #RTC_DR2
 798  0005C9 R CD0000                        call     write_RTC_calendar
 799  0005CC X C70000                        ld       byte1, a
 800  0005CF X CD0000                        call     get_wd_string
 801  0005D2   81                            ret      
 802                         bottom_wd  
 803  0005D3 X C60000                        ld       a, monthweekd
 804  0005D6   A41F                          and      a, #%00011111
 805  0005D8   AA20                          or       a, #%00100000
 806  0005DA X C70000                        ld       monthweekd, a
 807  0005DD X AE0000                        ldw      x, #RTC_DR2
 808  0005E0 R CD0000                        call     write_RTC_calendar
 809  0005E3 X C70000                        ld       byte1, a
 810  0005E6 X CD0000                        call     get_wd_string
 811  0005E9   81                            ret      
 812                         
 813                         .dec_wd:  
 814  0005EA X C60000                        ld       a, monthweekd
 815  0005ED   A4E0                          and      a, #%11100000
 816  0005EF   4E                            swap     a
 817  0005F0   44                            srl      a
 818  0005F1   A101                          cp       a, #1
 819  0005F3 R 271F                          jreq     top_wd
 820  0005F5   4A                            dec      a
 821  0005F6   48                            sll      a
 822  0005F7   4E                            swap     a
 823  0005F8   88                            push     a
 824  0005F9 X C60000                        ld       a, monthweekd
 825  0005FC   A41F                          and      a, #%00011111
 826  0005FE X 320000                        pop      byte1
 827  000601 X CB0000                        add      a, byte1
 828  000604 X C70000                        ld       monthweekd, a
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 30  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 829  000607 X AE0000                        ldw      x, #RTC_DR2
 830  00060A R CD0000                        call     write_RTC_calendar
 831  00060D X C70000                        ld       byte1, a
 832  000610 X CD0000                        call     get_wd_string
 833  000613   81                            ret      
 834                         top_wd    
 835  000614 X C60000                        ld       a, monthweekd
 836  000617   A41F                          and      a, #%00011111
 837  000619   AAE0                          or       a, #%11100000
 838  00061B X C70000                        ld       monthweekd, a
 839  00061E X AE0000                        ldw      x, #RTC_DR2
 840  000621 R CD0000                        call     write_RTC_calendar
 841  000624 X C70000                        ld       byte1, a
 842  000627 X CD0000                        call     get_wd_string
 843  00062A   81                            ret      
 844                         
 845                         .inc_yyyy:  
 846  00062B X 5500000000                    mov      byte1, year
 847  000630 X CD0000                        call     bcd_dec
 848  000633 X C60000                        ld       a, byte2
 849  000636   A163                          cp       a, #99
 850  000638 R 2714                          jreq     bottom_yyyy
 851  00063A   4C                            inc      a
 852  00063B X C70000                        ld       byte1, a
 853  00063E X CD0000                        call     dec_bcd
 854  000641 X C60000                        ld       a, byte2
 855  000644 X C70000                        ld       year, a
 856  000647 X AE0000                        ldw      x, #RTC_DR3
 857  00064A R CD0000                        call     write_RTC_calendar
 858  00064D   81                            ret      
 859                         bottom_yyyy  
 860  00064E   A600                          ld       a, #0
 861  000650 X C70000                        ld       year, a
 862  000653 X AE0000                        ldw      x, #RTC_DR3
 863  000656 R CD0000                        call     write_RTC_calendar
 864  000659   81                            ret      
 865                                   
 866                         .dec_yyyy:  
 867  00065A X 5500000000                    mov      byte1, year
 868  00065F X CD0000                        call     bcd_dec
 869  000662 X C60000                        ld       a, byte2
 870  000665   A100                          cp       a, #0
 871  000667 R 2714                          jreq     top_yyyy
 872  000669   4A                            dec      a
 873  00066A X C70000                        ld       byte1, a
 874  00066D X CD0000                        call     dec_bcd
 875  000670 X C60000                        ld       a, byte2
 876  000673 X C70000                        ld       year, a
 877  000676 X AE0000                        ldw      x, #RTC_DR3
 878  000679 R CD0000                        call     write_RTC_calendar
 879  00067C   81                            ret      
 880                         top_yyyy  
 881  00067D X 35630000                      mov      byte1, #99
 882  000681 X CD0000                        call     dec_bcd
 883  000684 X C60000                        ld       a, byte2
 884  000687 X C70000                        ld       year, a
 885  00068A X AE0000                        ldw      x, #RTC_DR3
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 31  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 886  00068D R CD0000                        call     write_RTC_calendar
 887  000690   81                            ret      
 888                         
 889                         .inc_amm:  
 890  000691 X C60000                        ld       a, RTC_ALRMAR2
 891  000694   A47F                          and      a, #%01111111
 892  000696 X C70000                        ld       byte1, a
 893  000699 X CD0000                        call     bcd_dec
 894  00069C   A63B                          ld       a, #59
 895  00069E X C10000                        cp       a, byte2
 896  0006A1 R 271B                          jreq     bottom_amm
 897  0006A3 X 725C0000                      inc      byte2
 898  0006A7 X 5500000000                    mov      byte1, byte2
 899  0006AC X CD0000                        call     dec_bcd
 900  0006AF X C60000                        ld       a, RTC_ALRMAR2
 901  0006B2   A480                          and      a, #%10000000
 902  0006B4 X CA0000                        or       a, byte2
 903  0006B7 X AE0000                        ldw      x, #RTC_ALRMAR2
 904  0006BA R CD0000                        call     write_RTC_alarm
 905  0006BD   81                            ret      
 906                         bottom_amm  
 907  0006BE X C60000                        ld       a, RTC_ALRMAR2
 908  0006C1   A480                          and      a, #%10000000
 909  0006C3 X AE0000                        ldw      x, #RTC_ALRMAR2
 910  0006C6 R CD0000                        call     write_RTC_alarm
 911  0006C9   81                            ret      
 912                         
 913                         .dec_amm:  
 914  0006CA X C60000                        ld       a, RTC_ALRMAR2
 915  0006CD   A47F                          and      a, #%01111111
 916  0006CF X C70000                        ld       byte1, a
 917  0006D2 X CD0000                        call     bcd_dec
 918  0006D5   A600                          ld       a, #0
 919  0006D7 X C10000                        cp       a, byte2
 920  0006DA R 271B                          jreq     top_amm
 921  0006DC X 725A0000                      dec      byte2
 922  0006E0 X 5500000000                    mov      byte1, byte2
 923  0006E5 X CD0000                        call     dec_bcd
 924  0006E8 X C60000                        ld       a, RTC_ALRMAR2
 925  0006EB   A480                          and      a, #%10000000
 926  0006ED X CA0000                        or       a, byte2
 927  0006F0 X AE0000                        ldw      x, #RTC_ALRMAR2
 928  0006F3 R CD0000                        call     write_RTC_alarm
 929  0006F6   81                            ret      
 930                         top_amm   
 931  0006F7 X 353B0000                      mov      byte1, #59
 932  0006FB X CD0000                        call     dec_bcd
 933  0006FE X C60000                        ld       a, RTC_ALRMAR2
 934  000701   A480                          and      a, #%10000000
 935  000703 X CA0000                        or       a, byte2
 936  000706 X AE0000                        ldw      x, #RTC_ALRMAR2
 937  000709 R CD0000                        call     write_RTC_alarm
 938  00070C   81                            ret      
 939                         
 940                         .inc_ahh:  
 941  00070D X C60000                        ld       a, RTC_ALRMAR3
 942  000710   A43F                          and      a, #%00111111
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 32  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

 943  000712 X C70000                        ld       byte1, a
 944  000715 X CD0000                        call     bcd_dec
 945  000718   A617                          ld       a, #23
 946  00071A X C10000                        cp       a, byte2
 947  00071D R 271B                          jreq     bottom_ahh
 948  00071F X 725C0000                      inc      byte2
 949  000723 X 5500000000                    mov      byte1, byte2
 950  000728 X CD0000                        call     dec_bcd
 951  00072B X C60000                        ld       a, RTC_ALRMAR3
 952  00072E   A4C0                          and      a, #%11000000
 953  000730 X CA0000                        or       a, byte2
 954  000733 X AE0000                        ldw      x, #RTC_ALRMAR3
 955  000736 R CD0000                        call     write_RTC_alarm
 956  000739   81                            ret      
 957                         bottom_ahh  
 958  00073A X C60000                        ld       a, RTC_ALRMAR3
 959  00073D   A4C0                          and      a, #%11000000
 960  00073F X AE0000                        ldw      x, #RTC_ALRMAR3
 961  000742 R CD0000                        call     write_RTC_alarm
 962  000745   81                            ret      
 963                         
 964                         .dec_ahh:  
 965  000746 X C60000                        ld       a, RTC_ALRMAR3
 966  000749   A43F                          and      a, #%00111111
 967  00074B X C70000                        ld       byte1, a
 968  00074E X CD0000                        call     bcd_dec
 969  000751   A600                          ld       a, #0
 970  000753 X C10000                        cp       a, byte2
 971  000756 R 271B                          jreq     top_ahh
 972  000758 X 725A0000                      dec      byte2
 973  00075C X 5500000000                    mov      byte1, byte2
 974  000761 X CD0000                        call     dec_bcd
 975  000764 X C60000                        ld       a, RTC_ALRMAR3
 976  000767   A4C0                          and      a, #%11000000
 977  000769 X CA0000                        or       a, byte2
 978  00076C X AE0000                        ldw      x, #RTC_ALRMAR3
 979  00076F R CD0000                        call     write_RTC_alarm
 980  000772   81                            ret      
 981                         top_ahh   
 982  000773 X 35170000                      mov      byte1, #23
 983  000777 X CD0000                        call     dec_bcd
 984  00077A X C60000                        ld       a, RTC_ALRMAR3
 985  00077D   A4C0                          and      a, #%11000000
 986  00077F X CA0000                        or       a, byte2
 987  000782 X AE0000                        ldw      x, #RTC_ALRMAR3
 988  000785 R CD0000                        call     write_RTC_alarm
 989  000788   81                            ret      
 990                         
 991                         .inc_melody:  
 992  000789 X C60000                        ld       a, melody
 993  00078C   A104                          cp       a, #MELODY_NUM
 994  00078E R 2709                          jreq     bottom_melody
 995  000790 X 725C0000                      inc      melody
 996  000794 X 72100000                      bset     beeperflag, #0
 997  000798   81                            ret      
 998                         bottom_melody  
 999  000799 X 35000000                      mov      melody, #0
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 33  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

1000  00079D X 72100000                      bset     beeperflag, #0
1001  0007A1   81                            ret      
1002                                   
1003                         .dec_melody:  
1004  0007A2 X C60000                        ld       a, melody
1005  0007A5   A100                          cp       a, #0
1006  0007A7 R 2709                          jreq     top_melody
1007  0007A9 X 725A0000                      dec      melody
1008  0007AD X 72100000                      bset     beeperflag, #0
1009  0007B1   81                            ret      
1010                         top_melody  
1011  0007B2 X 35040000                      mov      melody, #MELODY_NUM
1012  0007B6 X 72100000                      bset     beeperflag, #0
1013  0007BA   81                            ret      
1014                                   
1015                         .toggle_alrm_arm:  
1016  0007BB X 35CA0000                      mov      RTC_WPR, #$CA  ;   
1017  0007BF X 35530000                      mov      RTC_WPR, #$53
1018  0007C3 X 90100000                      bcpl     RTC_CR2, #ALRAE
1019  0007C7   81                            ret      
1020                                   
1021                         .inc_clbr:  
1022  0007C8 X CE0000                        ldw      x, RTC_CALRH  ;  
1023  0007CB   9E                            ld       a, xh         ;  
1024  0007CC   A401                          and      a, #%00000001  ;  
1025  0007CE   95                            ld       xh, a
1026  0007CF X CF0000                        ldw      calibr, x
1027                                   
1028  0007D2 X 720F000013                    btjf     RTC_CALRH, #CALP, clbrv_neg
1029  0007D7   AE01FF                        ldw      x, #511       ;  
1030  0007DA X 72B00000                      subw     x, calibr
1031                                   
1032  0007DE   A301FF                        cpw      x, #511
1033  0007E1 R 274E                          jreq     end_incr      ; - -  
                                                                ;
1034                                                          ; 
1035                                   
1036  0007E3   5C                            incw     x             ;   1
1037  0007E4 X CF0000                        ldw      calibr, x
1038  0007E7 R 2013                          jra      rec_CALR
1039  0007E9   81                            ret      
1040                         
1041                         clbrv_neg                        ;  
1042  0007EA   A30000                        cpw      x, #0
1043  0007ED R 2706                          jreq     change_sign
1044  0007EF   5A                            decw     x
1045  0007F0 X CF0000                        ldw      calibr, x
1046  0007F3 R 2007                          jra      rec_CALR
1047                         change_sign  
1048  0007F5 X 721E0000                      bset     RTC_CALRH, #CALP
1049                                                          ;incw x
1050  0007F9 X CF0000                        ldw      calibr, x
1051                                   
1052                         rec_CALR  
1053  0007FC X 720F00001C                    btjf     RTC_CALRH, #CALP, rec_neg
1054                         waitp_REACLPF  
1055  000801 X 72020000FB                    btjt     RTC_ISR1, #RECALPF, waitp_REACLPF
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 34  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

1056  000806   AE01FF                        ldw      x, #511
1057  000809 X 72B00000                      subw     x, calibr
1058  00080D   9E                            ld       a, xh
1059  00080E X 72110000                      bres     RTC_CALRH, #CALM8
1060  000812 X CA0000                        or       a, RTC_CALRH
1061  000815 X C70000                        ld       RTC_CALRH, a
1062  000818   9F                            ld       a, xl
1063  000819 X C70000                        ld       RTC_CALRL, a
1064  00081C   81                            ret      
1065                         rec_neg   
1066                         waitn_REACLPF  
1067  00081D X 72020000FB                    btjt     RTC_ISR1, #RECALPF, waitn_REACLPF
1068  000822   9E                            ld       a, xh
1069  000823 X 72110000                      bres     RTC_CALRH, #CALM8
1070  000827 X CA0000                        or       a, RTC_CALRH
1071  00082A X C70000                        ld       RTC_CALRH, a
1072  00082D   9F                            ld       a, xl
1073  00082E X C70000                        ld       RTC_CALRL, a
1074                         end_incr  
1075  000831   81                            ret      
1076                         
1077                         .dec_clbr:  
1078  000832 X CE0000                        ldw      x, RTC_CALRH  ;  
1079  000835   9E                            ld       a, xh         ;  
1080  000836   A401                          and      a, #%00000001  ;  
1081  000838   95                            ld       xh, a
1082  000839 X CF0000                        ldw      calibr, x
1083                                   
1084  00083C X 720E00000B                    btjt     RTC_CALRH, #CALP, clbrv_pos
1085                                   
1086  000841   A301FF                        cpw      x, #511       ; - -  
1087  000844 R 2727                          jreq     end_decr      ; 
1088                                   
1089  000846   5C                            incw     x             ;   1
1090  000847 X CF0000                        ldw      calibr, x
1091  00084A R 20D1                          jra      rec_neg
1092                                   
1093                         clbrv_pos                        ;  
1094  00084C   AE01FF                        ldw      x, #511       ;  
1095  00084F X 72B00000                      subw     x, calibr
1096  000853 X CF0000                        ldw      calibr, x
1097                                   
1098  000856   A30000                        cpw      x, #0         ;    
1099  000859 R 2706                          jreq     sign_plus_minus  ; 
1100                         
1101  00085B   5A                            decw     x             ;   --  
                                                                ;
1102  00085C X CF0000                        ldw      calibr, x
1103  00085F R 209B                          jra      rec_CALR
1104                         
1105                         sign_plus_minus  
1106  000861 X 721F0000                      bres     RTC_CALRH, #CALP  ;   
1107  000865   AE0000                        ldw      x, #0
1108  000868 X CF0000                        ldw      calibr, x
1109  00086B R 20B0                          jra      rec_neg
1110                                   
1111                         end_decr  
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 35  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

1112  00086D   81                            ret      
1113                                   
1114                         toggle_hrly:  
1115  00086E X 90100000                      bcpl     hrly, #0
1116  000872   81                            ret      
1117                         
1118                         .readtime:  
1119  000873 X 5500000000                    mov      seconds, RTC_TR1
1120  000878 X 5500000000                    mov      minutes, RTC_TR2
1121  00087D X 5500000000                    mov      hours, RTC_TR3
1122  000882 X 5500000000                    mov      date, RTC_DR1
1123  000887 X 5500000000                    mov      monthweekd, RTC_DR2
1124  00088C X 5500000000                    mov      year, RTC_DR3
1125  000891   81                            ret      
1126                                   
1127                         .write_RTC_calendar:  
1128  000892 X 35CA0000                      mov      RTC_WPR, #$CA  ;   
1129  000896 X 35530000                      mov      RTC_WPR, #$53
1130  00089A X 721E0000                      bset     RTC_ISR1, #INIT  ;   
1131                         wait_INITF                       ; 
1132  00089E X 720D0000FB                    btjf     RTC_ISR1, #INITF, wait_INITF
1133  0008A3   F7                            ld       (x), a
1134  0008A4 X 721F0000                      bres     RTC_ISR1, #INIT  ;   
1135                         wait_RSF  
1136  0008A8 X 720B0000FB                    btjf     RTC_ISR1, #RSF, wait_RSF
1137  0008AD   81                            ret      
1138                                   
1139                         .write_RTC_alarm:  
1140  0008AE X 72110000                      bres     RTC_CR2, #ALRAE
1141  0008B2   F7                            ld       (x), a
1142  0008B3 X 72100000                      bset     RTC_CR2, #ALRAE
1143  0008B7   81                            ret      
1144                                   
1145                         .corr_daystab:  
1146  0008B8 X C60000                        ld       a, year
1147  0008BB   A100                          cp       a, #0
1148  0008BD R 272C                          jreq     not_leap
1149  0008BF X C70000                        ld       byte1, a
1150  0008C2 X CD0000                        call     bcd_dec
1151  0008C5 X 3B0000                        push     byte2
1152  0008C8   4B00                          push     #0
1153  0008CA   85                            popw     x
1154  0008CB   A604                          ld       a, #4
1155  0008CD   62                            div      x, a
1156  0008CE   A100                          cp       a, #0
1157  0008D0 R 2619                          jrne     not_leap
1158  0008D2 X AE0000                        ldw      x, #daystab
1159  0008D5   A61D                          ld       a, #29
1160  0008D7 X 35AE0000                      mov      FLASH_DUKR, #$AE
1161  0008DB X 35560000                      mov      FLASH_DUKR, #$56
1162                         wait_DUL_l  
1163  0008DF X 72070000FB                    btjf     FLASH_IAPSR, #3, wait_DUL_l
1164  0008E4   E701                          ld       (1,x), a
1165  0008E6 X 72170000                      bres     FLASH_IAPSR, #3
1166  0008EA   81                            ret      
1167                         not_leap  
1168  0008EB X AE0000                        ldw      x, #daystab
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 36  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

1169  0008EE   A61C                          ld       a, #28
1170  0008F0 X 35AE0000                      mov      FLASH_DUKR, #$AE
1171  0008F4 X 35560000                      mov      FLASH_DUKR, #$56
1172                         wait_DUL_nl  
1173  0008F8 X 72070000FB                    btjf     FLASH_IAPSR, #3, wait_DUL_nl
1174  0008FD   E701                          ld       (1,x), a
1175  0008FF X 72170000                      bres     FLASH_IAPSR, #3
1176  000903   81                            ret      
1177                         
1178                         check_hrly:  
1179  000904 X 7200000001                    btjt     hrly, #0, hrly_on  ;    
                                                                ;,
1180  000909   81                            ret                    ;  
1181                         hrly_on   
1182  00090A X 5500000000                    mov      byte1, minutes  ;  -   
                                                                ;
1183  00090F X CD0000                        call     bcd_dec
1184  000912   A63B                          ld       a, #59
1185  000914 X C00000                        sub      a, byte2 
1186  000917   AE003C                        ldw      x, #60        ;    
                                                                ;
1187  00091A   42                            mul      x, a
1188  00091B R CF0000                        ldw      scndslft, x
1189                         
1190  00091E X 5500000000                    mov      byte1, seconds
1191  000923 X CD0000                        call     bcd_dec
1192  000926   A63B                          ld       a, #59
1193  000928 X C00000                        sub      a, byte2
1194  00092B   5F                            clrw     x
1195  00092C   97                            ld       xl, a
1196  00092D R 72BB0000                      addw     x, scndslft
1197                         skip_ss_sbt  
1198  000931 R CD0000                        call     WUT_setup_hrly  ;   
                                                                ;
1199  000934 X CF0000                        ldw      RTC_WUTRH, x
1200  000937 X 72140000                      bset     RTC_CR2, #WUTE  ;   
1201  00093B   81                            ret      
1202                                   
1203                         WUT_setup_hrly:  
1204  00093C X 72150000                      bres     RTC_CR2, #WUTE  ;   
1205                         wait_WUTWF_hrly  
1206  000940 X 72050000FB                    btjf     RTC_ISR1, #WUTWF, wait_WUTWF_hrly
1207  000945 X 72140000                      bset     RTC_CR1, #WUCKSEL2
1208  000949 X 72130000                      bres     RTC_CR1, #WUCKSEL1
1209  00094D X 72110000                      bres     RTC_CR1, #WUCKSEL0  ;  - ck_spre (1 
                                                                ;)
1210  000951   81                            ret      
1211                                   
1212                         .WUT_setup_play:  
1213  000952 X 72150000                      bres     RTC_CR2, #WUTE  ;   
1214                         wait_WUTWF_play  
1215  000956 X 72050000FB                    btjf     RTC_ISR1, #WUTWF, wait_WUTWF_play
1216  00095B X 72150000                      bres     RTC_CR1, #WUCKSEL2
1217  00095F X 72120000                      bset     RTC_CR1, #WUCKSEL1
1218  000963 X 72100000                      bset     RTC_CR1, #WUCKSEL0  ;   LSE 
                                                                ;RTCCLK/2
1219  000967   81                            ret      
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 37  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

1220  000968                                 end      
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 38  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

Symbol Name                       Value     Call       Type  Scope      Rel.  Line  Privacy  Segment   Size  Bytes File

ADC1_CR1                          ????????         no  WORD  External   rel    537  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_CR2                          ????????         no  WORD  External   rel    539  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_CR3                          ????????         no  WORD  External   rel    541  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_SR                           ????????         no  WORD  External   rel    543  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_DRH                          ????????         no  WORD  External   rel    545  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_DRL                          ????????         no  WORD  External   rel    547  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_HTRH                         ????????         no  WORD  External   rel    549  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_HTRL                         ????????         no  WORD  External   rel    551  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_LTRH                         ????????         no  WORD  External   rel    553  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_LTRL                         ????????         no  WORD  External   rel    555  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_SQR1                         ????????         no  WORD  External   rel    557  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_SQR2                         ????????         no  WORD  External   rel    559  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_SQR3                         ????????         no  WORD  External   rel    561  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_SQR4                         ????????         no  WORD  External   rel    563  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_TRIGR1                       ????????         no  WORD  External   rel    565  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_TRIGR2                       ????????         no  WORD  External   rel    567  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_TRIGR3                       ????????         no  WORD  External   rel    569  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ADC1_TRIGR4                       ????????         no  WORD  External   rel    571  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ALRAE                                 0000         no  WORD  Internal   ABS     33  private  undef        0     0  -
ALRAWF                                0000         no  WORD  Internal   ABS     34  private  undef        0     0  -

BEEP_CSR1                         ????????         no  WORD  External   rel    255  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
BEEP_CSR2                         ????????         no  WORD  External   rel    257  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc

CLK_CKDIVR                        ????????         no  WORD  External   rel    202  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_CRTCR                         ????????         no  WORD  External   rel    204  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_ICKCR                         ????????         no  WORD  External   rel    206  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_PCKENR1                       ????????         no  WORD  External   rel    208  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_PCKENR2                       ????????         no  WORD  External   rel    210  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_CCOR                          ????????         no  WORD  External   rel    212  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_ECKCR                         ????????         no  WORD  External   rel    214  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_SCSR                          ????????         no  WORD  External   rel    216  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_SWR                           ????????         no  WORD  External   rel    218  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_SWCR                          ????????         no  WORD  External   rel    220  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_CSSR                          ????????         no  WORD  External   rel    222  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_CBEEPR                        ????????         no  WORD  External   rel    224  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_HSICALR                       ????????         no  WORD  External   rel    226  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_HSITRIMR                      ????????         no  WORD  External   rel    228  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_HSIUNLCKR                     ????????         no  WORD  External   rel    230  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_REGCSR                        ????????         no  WORD  External   rel    232  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CLK_PCKENR3                       ????????         no  WORD  External   rel    234  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CSS_LSE_CSR                       ????????         no  WORD  External   rel    329  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CFG_GCR                           ????????         no  WORD  External   rel    625  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
CEN                                   0000         no  WORD  Internal   ABS     28  private  undef        0     0  -
CFG_GCR_SWD                           0000         no  WORD  Internal   ABS     36  private  undef        0     0  -
CALP                                  0007         no  WORD  Internal   ABS     47  private  undef        0     0  -
CALM8                                 0000         no  WORD  Internal   ABS     49  private  undef        0     0  -

DMA1_GCSR                         ????????         no  WORD  External   rel     81  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_GIR1                         ????????         no  WORD  External   rel     83  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C0CR                         ????????         no  WORD  External   rel     85  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C0SPR                        ????????         no  WORD  External   rel     87  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C0NDTR                       ????????         no  WORD  External   rel     89  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C0PARH                       ????????         no  WORD  External   rel     91  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C0PARL                       ????????         no  WORD  External   rel     93  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 39  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

DMA1_C0M0ARH                      ????????         no  WORD  External   rel     95  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C0M0ARL                      ????????         no  WORD  External   rel     97  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C1CR                         ????????         no  WORD  External   rel     99  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C1SPR                        ????????         no  WORD  External   rel    101  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C1NDTR                       ????????         no  WORD  External   rel    103  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C1PARH                       ????????         no  WORD  External   rel    105  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C1PARL                       ????????         no  WORD  External   rel    107  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C1M0ARH                      ????????         no  WORD  External   rel    109  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C1M0ARL                      ????????         no  WORD  External   rel    111  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C2CR                         ????????         no  WORD  External   rel    113  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C2SPR                        ????????         no  WORD  External   rel    115  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C2NDTR                       ????????         no  WORD  External   rel    117  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C2PARH                       ????????         no  WORD  External   rel    119  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C2PARL                       ????????         no  WORD  External   rel    121  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C2M0ARH                      ????????         no  WORD  External   rel    123  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C2M0ARL                      ????????         no  WORD  External   rel    125  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C3CR                         ????????         no  WORD  External   rel    127  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C3SPR                        ????????         no  WORD  External   rel    129  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C3NDTR                       ????????         no  WORD  External   rel    131  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C3PARH_C3M1ARH               ????????         no  WORD  External   rel    133  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C3PARL_C3M1ARL               ????????         no  WORD  External   rel    135  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA_C3M0EAR                       ????????         no  WORD  External   rel    137  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C3M0ARH                      ????????         no  WORD  External   rel    139  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
DMA1_C3M0ARL                      ????????         no  WORD  External   rel    141  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc

EXTI_CR1                          ????????         no  WORD  External   rel    155  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
EXTI_CR2                          ????????         no  WORD  External   rel    157  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
EXTI_CR3                          ????????         no  WORD  External   rel    159  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
EXTI_SR1                          ????????         no  WORD  External   rel    161  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
EXTI_SR2                          ????????         no  WORD  External   rel    163  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
EXTI_CONF1                        ????????         no  WORD  External   rel    165  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
EXTI_CR4                          ????????         no  WORD  External   rel    181  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
EXTI_CONF2                        ????????         no  WORD  External   rel    183  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc

FLASH_CR1                         ????????         no  WORD  External   rel     68  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
FLASH_CR2                         ????????         no  WORD  External   rel     70  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
FLASH_PUKR                        ????????         no  WORD  External   rel     72  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
FLASH_DUKR                        ????????         no  WORD  External   rel     74  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
FLASH_IAPSR                       ????????         no  WORD  External   rel     76  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc

IWDG_KR                           ????????         no  WORD  External   rel    246  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
IWDG_PR                           ????????         no  WORD  External   rel    248  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
IWDG_RLR                          ????????         no  WORD  External   rel    250  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_CR1                          ????????         no  WORD  External   rel    353  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_CR2                          ????????         no  WORD  External   rel    355  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_FREQR                        ????????         no  WORD  External   rel    357  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_OARL                         ????????         no  WORD  External   rel    359  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_OARH                         ????????         no  WORD  External   rel    361  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_OAR2                         ????????         no  WORD  External   rel    363  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_DR                           ????????         no  WORD  External   rel    365  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_SR1                          ????????         no  WORD  External   rel    367  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_SR2                          ????????         no  WORD  External   rel    369  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_SR3                          ????????         no  WORD  External   rel    371  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_ITR                          ????????         no  WORD  External   rel    373  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_CCRL                         ????????         no  WORD  External   rel    375  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_CCRH                         ????????         no  WORD  External   rel    377  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
I2C1_TRISER                       ????????         no  WORD  External   rel    379  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 40  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

I2C1_PECR                         ????????         no  WORD  External   rel    381  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
IR_CR                             ????????         no  WORD  External   rel    532  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR1                          ????????         no  WORD  External   rel    630  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR2                          ????????         no  WORD  External   rel    632  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR3                          ????????         no  WORD  External   rel    634  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR4                          ????????         no  WORD  External   rel    636  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR5                          ????????         no  WORD  External   rel    638  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR6                          ????????         no  WORD  External   rel    640  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR7                          ????????         no  WORD  External   rel    642  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
ITC_SPR8                          ????????         no  WORD  External   rel    644  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
INIT                                  0007         no  WORD  Internal   ABS     30  private  undef        0     0  -
INITF                                 0006         no  WORD  Internal   ABS     31  private  undef        0     0  -

MELODY_NUM                            0004         no  WORD  Internal   ABS     40  private  undef        0     0  -

PA_ODR                            ????????         no  WORD  External   rel     16  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PA_IDR                            ????????         no  WORD  External   rel     18  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PA_DDR                            ????????         no  WORD  External   rel     20  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PA_CR1                            ????????         no  WORD  External   rel     22  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PA_CR2                            ????????         no  WORD  External   rel     24  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PB_ODR                            ????????         no  WORD  External   rel     29  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PB_IDR                            ????????         no  WORD  External   rel     31  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PB_DDR                            ????????         no  WORD  External   rel     33  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PB_CR1                            ????????         no  WORD  External   rel     35  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PB_CR2                            ????????         no  WORD  External   rel     37  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PC_ODR                            ????????         no  WORD  External   rel     42  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PC_IDR                            ????????         no  WORD  External   rel     44  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PC_DDR                            ????????         no  WORD  External   rel     46  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PC_CR1                            ????????         no  WORD  External   rel     48  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PC_CR2                            ????????         no  WORD  External   rel     50  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PD_ODR                            ????????         no  WORD  External   rel     55  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PD_IDR                            ????????         no  WORD  External   rel     57  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PD_DDR                            ????????         no  WORD  External   rel     59  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PD_CR1                            ????????         no  WORD  External   rel     61  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PD_CR2                            ????????         no  WORD  External   rel     63  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PWR_CSR1                          ????????         no  WORD  External   rel    195  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PWR_CSR2                          ????????         no  WORD  External   rel    197  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
PCKEN10                               0000         no  WORD  Internal   ABS     37  private  undef        0     0  -
PCKEN11                               0001         no  WORD  Internal   ABS     38  private  undef        0     0  -
PCKEN12                               0002         no  WORD  Internal   ABS     39  private  undef        0     0  -
PVDE                                  0000         no  WORD  Internal   ABS     42  private  undef        0     0  -
PVDIF                                 0005         no  WORD  Internal   ABS     44  private  undef        0     0  -
PVDOF                                 0006         no  WORD  Internal   ABS     45  private  undef        0     0  -

RST_CR                            ????????         no  WORD  External   rel    188  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RST_SR                            ????????         no  WORD  External   rel    190  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_TR1                           ????????         no  WORD  External   rel    262  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_TR2                           ????????         no  WORD  External   rel    264  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_TR3                           ????????         no  WORD  External   rel    266  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_DR1                           ????????         no  WORD  External   rel    268  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_DR2                           ????????         no  WORD  External   rel    270  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_DR3                           ????????         no  WORD  External   rel    272  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_CR1                           ????????         no  WORD  External   rel    274  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_CR2                           ????????         no  WORD  External   rel    276  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_CR3                           ????????         no  WORD  External   rel    278  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ISR1                          ????????         no  WORD  External   rel    280  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ISR2                          ????????         no  WORD  External   rel    282  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 41  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

RTC_SPRERH                        ????????         no  WORD  External   rel    284  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_SPRERL                        ????????         no  WORD  External   rel    286  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_APRER                         ????????         no  WORD  External   rel    288  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_WUTRH                         ????????         no  WORD  External   rel    290  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_WUTRL                         ????????         no  WORD  External   rel    292  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_SSRH                          ????????         no  WORD  External   rel    294  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_SSRL                          ????????         no  WORD  External   rel    296  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_WPR                           ????????         no  WORD  External   rel    298  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_SHIFTRH                       ????????         no  WORD  External   rel    300  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_SHIFTRL                       ????????         no  WORD  External   rel    302  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ALRMAR1                       ????????         no  WORD  External   rel    304  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ALRMAR2                       ????????         no  WORD  External   rel    306  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ALRMAR3                       ????????         no  WORD  External   rel    308  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ALRMAR4                       ????????         no  WORD  External   rel    310  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ALRMASSRH                     ????????         no  WORD  External   rel    312  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ALRMASSRL                     ????????         no  WORD  External   rel    314  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_ALRMASSMSKR                   ????????         no  WORD  External   rel    316  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_CALRH                         ????????         no  WORD  External   rel    318  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_CALRL                         ????????         no  WORD  External   rel    320  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_TCR1                          ????????         no  WORD  External   rel    322  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RTC_TCR2                          ????????         no  WORD  External   rel    324  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_ICR1                           ????????         no  WORD  External   rel    576  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_ICR2                           ????????         no  WORD  External   rel    578  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOIR1                          ????????         no  WORD  External   rel    580  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOIR2                          ????????         no  WORD  External   rel    582  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOIR3                          ????????         no  WORD  External   rel    584  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOCMR1                         ????????         no  WORD  External   rel    586  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOCMR2                         ????????         no  WORD  External   rel    588  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOCMR3                         ????????         no  WORD  External   rel    590  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOSR1                          ????????         no  WORD  External   rel    592  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOSR2                          ????????         no  WORD  External   rel    594  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOSR3                          ????????         no  WORD  External   rel    596  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOGCR                          ????????         no  WORD  External   rel    598  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_ASCR1                          ????????         no  WORD  External   rel    600  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_ASCR2                          ????????         no  WORD  External   rel    602  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_RCR                            ????????         no  WORD  External   rel    604  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_CR                             ????????         no  WORD  External   rel    606  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_MASKR1                         ????????         no  WORD  External   rel    608  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_MASKR2                         ????????         no  WORD  External   rel    610  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_MASKR3                         ????????         no  WORD  External   rel    612  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_MASKR4                         ????????         no  WORD  External   rel    614  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOIR4                          ????????         no  WORD  External   rel    616  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOCMR4                         ????????         no  WORD  External   rel    618  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RI_IOSR4                          ????????         no  WORD  External   rel    620  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
RSF                                   0005         no  WORD  Internal   ABS     32  private  undef        0     0  -
RECALPF                               0001         no  WORD  Internal   ABS     48  private  undef        0     0  -

SYSCFG_RMPCR3                     ????????         no  WORD  External   rel    146  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SYSCFG_RMPCR1                     ????????         no  WORD  External   rel    148  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SYSCFG_RMPCR2                     ????????         no  WORD  External   rel    150  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SPI1_CR1                          ????????         no  WORD  External   rel    334  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SPI1_CR2                          ????????         no  WORD  External   rel    336  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SPI1_ICR                          ????????         no  WORD  External   rel    338  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SPI1_SR                           ????????         no  WORD  External   rel    340  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SPI1_DR                           ????????         no  WORD  External   rel    342  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SPI1_CRCPR                        ????????         no  WORD  External   rel    344  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
SPI1_RXCRCR                       ????????         no  WORD  External   rel    346  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 42  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

SPI1_TXCRCR                       ????????         no  WORD  External   rel    348  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc

TIM2_CR1                          ????????         no  WORD  External   rel    411  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CR2                          ????????         no  WORD  External   rel    413  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_SMCR                         ????????         no  WORD  External   rel    415  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_ETR                          ????????         no  WORD  External   rel    417  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_DER                          ????????         no  WORD  External   rel    419  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_IER                          ????????         no  WORD  External   rel    421  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_SR1                          ????????         no  WORD  External   rel    423  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_SR2                          ????????         no  WORD  External   rel    425  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_EGR                          ????????         no  WORD  External   rel    427  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CCMR1                        ????????         no  WORD  External   rel    429  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CCMR2                        ????????         no  WORD  External   rel    431  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CCER1                        ????????         no  WORD  External   rel    433  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CNTRH                        ????????         no  WORD  External   rel    435  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CNTRL                        ????????         no  WORD  External   rel    437  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_PSCR                         ????????         no  WORD  External   rel    439  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_ARRH                         ????????         no  WORD  External   rel    441  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_ARRL                         ????????         no  WORD  External   rel    443  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CCR1H                        ????????         no  WORD  External   rel    445  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CCR1L                        ????????         no  WORD  External   rel    447  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CCR2H                        ????????         no  WORD  External   rel    449  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_CCR2L                        ????????         no  WORD  External   rel    451  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_BKR                          ????????         no  WORD  External   rel    453  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM2_OISR                         ????????         no  WORD  External   rel    455  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CR1                          ????????         no  WORD  External   rel    460  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CR2                          ????????         no  WORD  External   rel    462  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_SMCR                         ????????         no  WORD  External   rel    464  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_ETR                          ????????         no  WORD  External   rel    466  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_DER                          ????????         no  WORD  External   rel    468  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_IER                          ????????         no  WORD  External   rel    470  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_SR1                          ????????         no  WORD  External   rel    472  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_SR2                          ????????         no  WORD  External   rel    474  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_EGR                          ????????         no  WORD  External   rel    476  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CCMR1                        ????????         no  WORD  External   rel    478  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CCMR2                        ????????         no  WORD  External   rel    480  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CCER1                        ????????         no  WORD  External   rel    482  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CNTRH                        ????????         no  WORD  External   rel    484  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CNTRL                        ????????         no  WORD  External   rel    486  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_PSCR                         ????????         no  WORD  External   rel    488  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_ARRH                         ????????         no  WORD  External   rel    490  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_ARRL                         ????????         no  WORD  External   rel    492  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CCR1H                        ????????         no  WORD  External   rel    494  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CCR1L                        ????????         no  WORD  External   rel    496  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CCR2H                        ????????         no  WORD  External   rel    498  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_CCR2L                        ????????         no  WORD  External   rel    500  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_BKR                          ????????         no  WORD  External   rel    502  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM3_OISR                         ????????         no  WORD  External   rel    504  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_CR1                          ????????         no  WORD  External   rel    509  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_CR2                          ????????         no  WORD  External   rel    511  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_SMCR                         ????????         no  WORD  External   rel    513  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_DER                          ????????         no  WORD  External   rel    515  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_IER                          ????????         no  WORD  External   rel    517  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_SR1                          ????????         no  WORD  External   rel    519  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_EGR                          ????????         no  WORD  External   rel    521  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_CNTR                         ????????         no  WORD  External   rel    523  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
TIM4_PSCR                         ????????         no  WORD  External   rel    525  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 43  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

TIM4_ARR                          ????????         no  WORD  External   rel    527  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc

USART1_SR                         ????????         no  WORD  External   rel    386  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_DR                         ????????         no  WORD  External   rel    388  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_BRR1                       ????????         no  WORD  External   rel    390  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_BRR2                       ????????         no  WORD  External   rel    392  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_CR1                        ????????         no  WORD  External   rel    394  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_CR2                        ????????         no  WORD  External   rel    396  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_CR3                        ????????         no  WORD  External   rel    398  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_CR4                        ????????         no  WORD  External   rel    400  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_CR5                        ????????         no  WORD  External   rel    402  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_GTR                        ????????         no  WORD  External   rel    404  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
USART1_PSCR                       ????????         no  WORD  External   rel    406  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
UIF                                   0000         no  WORD  Internal   ABS     29  private  undef        0     0  -

VREFINTF                              0000         no  WORD  Internal   ABS     43  private  undef        0     0  -

WFE_CR1                           ????????         no  WORD  External   rel    170  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
WFE_CR2                           ????????         no  WORD  External   rel    172  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
WFE_CR3                           ????????         no  WORD  External   rel    174  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
WFE_CR4                           ????????         no  WORD  External   rel    176  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
WWDG_CR                           ????????         no  WORD  External   rel    239  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
WWDG_WR                           ????????         no  WORD  External   rel    241  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\stm8l051f3.inc
WUTWF                                 0002         no  WORD  Internal   ABS     51  private  undef        0     0  -
WUTE                                  0002         no  WORD  Internal   ABS     52  private  undef        0     0  -
WUTF                                  0002         no  WORD  Internal   ABS     53  private  undef        0     0  -
WUCKSEL0                              0000         no  WORD  Internal   ABS     54  private  undef        0     0  -
WUCKSEL1                              0001         no  WORD  Internal   ABS     55  private  undef        0     0  -
WUCKSEL2                              0002         no  WORD  Internal   ABS     56  private  undef        0     0  -
WUT_setup_hrly                        093C         no  WORD  Internal   rel   1203  private  text         4     0  -
WUT_setup_play                        0952         no  WORD  Internal   rel   1212  public   text         4     0  -

bcd_dec                           ????????         no  WORD  External   rel     12  private  text         0     0  -
byte1                             ????????         no  WORD  External   rel     14  private  text         0     0  -
byte2                             ????????         no  WORD  External   rel     15  private  text         0     0  -
beeperflag                        ????????         no  WORD  External   rel     20  private  text         0     0  -
bottom_mm                             03E5         no  WORD  Internal   rel    600  private  text        12     0  -
bottom_hh                             0455         no  WORD  Internal   rel    644  private  text        15     0  -
bottom_mt                             04D0         no  WORD  Internal   rel    693  private  text        16     0  -
bottom_dd                             055C         no  WORD  Internal   rel    749  private  text        12     0  -
bottom_wd                             05D3         no  WORD  Internal   rel    802  private  text        23     0  -
bottom_yyyy                           064E         no  WORD  Internal   rel    859  private  text        12     0  -
bottom_amm                            06BE         no  WORD  Internal   rel    906  private  text        12     0  -
bottom_ahh                            073A         no  WORD  Internal   rel    957  private  text        12     0  -
bottom_melody                         0799         no  WORD  Internal   rel    998  private  text         9     0  -

cls                               ????????         no  WORD  External   rel     10  private  text         0     0  -
calibr                            ????????         no  WORD  External   rel     24  private  text         0     0  -
clbrv_neg                             07EA         no  WORD  Internal   rel   1041  private  text        11     0  -
change_sign                           07F5         no  WORD  Internal   rel   1047  private  text         7     0  -
clbrv_pos                             084C         no  WORD  Internal   rel   1093  private  text        21     0  -
corr_daystab                          08B8         no  WORD  Internal   rel   1145  public   text        39     0  -
check_hrly                            0904         no  WORD  Internal   rel   1178  private  text         6     0  -

date                              ????????         no  WORD  External   rel      7  private  text         0     0  -
delay                                 0000         no  WORD  Internal   rel     67  public   text        29     0  -
dec_bcd                           ????????         no  WORD  External   rel     13  private  text         0     0  -
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 44  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

daystab                           ????????         no  WORD  External   rel     18  private  text         0     0  -
dec_mm                                03F1         no  WORD  Internal   rel    607  public   text        40     0  -
dec_hh                                0464         no  WORD  Internal   rel    652  public   text        40     0  -
dec_mt                                04E0         no  WORD  Internal   rel    702  public   text        48     0  -
dec_dd                                0568         no  WORD  Internal   rel    756  public   text        40     0  -
dec_wd                                05EA         no  WORD  Internal   rel    813  public   text        42     0  -
dec_yyyy                              065A         no  WORD  Internal   rel    866  public   text        35     0  -
dec_amm                               06CA         no  WORD  Internal   rel    913  public   text        45     0  -
dec_ahh                               0746         no  WORD  Internal   rel    964  public   text        45     0  -
dec_melody                            07A2         no  WORD  Internal   rel   1003  public   text        16     0  -
dec_clbr                              0832         no  WORD  Internal   rel   1077  public   text        26     0  -

end_incr                              0831         no  WORD  Internal   rel   1074  private  text         1     0  -
end_decr                              086D         no  WORD  Internal   rel   1111  private  text         1     0  -

get_wd_string                     ????????         no  WORD  External   rel     17  private  text         0     0  -

hours                             ????????         no  WORD  External   rel      6  private  text         0     0  -
hrly                              ????????         no  WORD  External   rel     25  private  text         0     0  -
hrly_on                               090A         no  WORD  Internal   rel   1181  private  text        39     0  -

inc_mm                                03BD         no  WORD  Internal   rel    586  public   text        40     0  -
inc_hh                                042D         no  WORD  Internal   rel    630  public   text        40     0  -
inc_mt                                04A0         no  WORD  Internal   rel    675  public   text        48     0  -
inc_dd                                0529         no  WORD  Internal   rel    731  public   text        51     0  -
inc_wd                                05A9         no  WORD  Internal   rel    781  public   text        42     0  -
inc_yyyy                              062B         no  WORD  Internal   rel    845  public   text        35     0  -
inc_amm                               0691         no  WORD  Internal   rel    889  public   text        45     0  -
inc_ahh                               070D         no  WORD  Internal   rel    940  public   text        45     0  -
inc_melody                            0789         no  WORD  Internal   rel    991  public   text        16     0  -
inc_clbr                              07C8         no  WORD  Internal   rel   1021  public   text        34     0  -

key1flag                              0000         no  WORD  Internal   rel     59  public   bss          1     1  -
key2flag                              0001         no  WORD  Internal   rel     60  public   bss          1     1  -
key3flag                              0002         no  WORD  Internal   rel     61  public   bss          1     1  -
key4flag                              0003         no  WORD  Internal   rel     62  public   bss          1     1  -
keyparse                              001D         no  WORD  Internal   rel     79  public   text        10     0  -
key1parse                             0027         no  WORD  Internal   rel     85  private  text        74     0  -
key1_mode1                            0071         no  WORD  Internal   rel    125  private  text        11     0  -
key1_mode2                            007C         no  WORD  Internal   rel    130  private  text         5     0  -
key1_mode21                           0081         no  WORD  Internal   rel    135  private  text        14     0  -
key1_mode11                           008F         no  WORD  Internal   rel    141  private  text         4     0  -
key1_mode13                           0093         no  WORD  Internal   rel    144  private  text         4     0  -
key1_mode31                           0097         no  WORD  Internal   rel    147  private  text         4     0  -
key1_mode33                           009B         no  WORD  Internal   rel    150  private  text         4     0  -
key1_mode41                           009F         no  WORD  Internal   rel    153  private  text         4     0  -
key1_mode51                           00A3         no  WORD  Internal   rel    156  private  text         4     0  -
key1_mode61                           00A7         no  WORD  Internal   rel    159  private  text         4     0  -
key1_mode63                           00AB         no  WORD  Internal   rel    162  private  text         4     0  -
key1_mode65                           00AF         no  WORD  Internal   rel    165  private  text         4     0  -
key1_mode66                           00B3         no  WORD  Internal   rel    168  private  text         4     0  -
key1_mode81                           00B7         no  WORD  Internal   rel    171  private  text         4     0  -
key1_mode91                           00BB         no  WORD  Internal   rel    174  private  text         4     0  -
keyparse2                             00BF         no  WORD  Internal   rel    178  private  text         8     0  -
key2parse                             00C7         no  WORD  Internal   rel    183  private  text        74     0  -
key2_mode3                            0111         no  WORD  Internal   rel    223  private  text        11     0  -
key2_mode4                            011C         no  WORD  Internal   rel    228  private  text        11     0  -
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 45  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm

key2_mode5                            0127         no  WORD  Internal   rel    233  private  text        11     0  -
key2_mode11                           0132         no  WORD  Internal   rel    238  private  text         4     0  -
key2_mode13                           0136         no  WORD  Internal   rel    241  private  text         4     0  -
key2_mode31                           013A         no  WORD  Internal   rel    244  private  text         4     0  -
key2_mode33                           013E         no  WORD  Internal   rel    247  private  text         4     0  -
key2_mode41                           0142         no  WORD  Internal   rel    250  private  text         4     0  -
key2_mode51                           0146         no  WORD  Internal   rel    253  private  text         4     0  -
key2_mode61                           014A         no  WORD  Internal   rel    256  private  text         4     0  -
key2_mode63                           014E         no  WORD  Internal   rel    259  private  text         4     0  -
key2_mode65                           0152         no  WORD  Internal   rel    262  private  text         4     0  -
key2_mode66                           0156         no  WORD  Internal   rel    265  private  text         4     0  -
key2_mode81                           015A         no  WORD  Internal   rel    268  private  text         4     0  -
key2_mode91                           015E         no  WORD  Internal   rel    271  private  text         4     0  -
keyparse3                             0162         no  WORD  Internal   rel    275  private  text         8     0  -
key3parse                             016A         no  WORD  Internal   rel    280  private  text        26     0  -
key3_mode7                            0184         no  WORD  Internal   rel    295  private  text        18     0  -
key3_mode8                            0196         no  WORD  Internal   rel    302  private  text        11     0  -
key3_mode9                            01A1         no  WORD  Internal   rel    307  private  text        11     0  -
keyparse4                             01AC         no  WORD  Internal   rel    313  private  text         6     0  -
key4parse                             01B2         no  WORD  Internal   rel    318  private  text        68     0  -
key4_beep_off                         01F6         no  WORD  Internal   rel    358  private  text         9     0  -
key4_mode21                           01FF         no  WORD  Internal   rel    362  private  text         5     0  -
key4_mode22                           0204         no  WORD  Internal   rel    365  private  text        11     0  -
key4_mode11                           020F         no  WORD  Internal   rel    370  private  text         5     0  -
key4_mode12                           0214         no  WORD  Internal   rel    373  private  text         5     0  -
key4_mode14                           0219         no  WORD  Internal   rel    376  private  text        11     0  -
key4_mode31                           0224         no  WORD  Internal   rel    381  private  text         5     0  -
key4_mode32                           0229         no  WORD  Internal   rel    384  private  text         5     0  -
key4_mode34                           022E         no  WORD  Internal   rel    387  private  text        11     0  -
key4_mode41                           0239         no  WORD  Internal   rel    392  private  text         5     0  -
key4_mode42                           023E         no  WORD  Internal   rel    395  private  text        11     0  -
key4_mode51                           0249         no  WORD  Internal   rel    400  private  text         5     0  -
key4_mode52                           024E         no  WORD  Internal   rel    403  private  text        11     0  -
key4parse2                            0259         no  WORD  Internal   rel    409  private  text        45     0  -
key4_mode6                            0286         no  WORD  Internal   rel    435  private  text        11     0  -
key4_mode61                           0291         no  WORD  Internal   rel    440  private  text         5     0  -
key4_mode62                           0296         no  WORD  Internal   rel    443  private  text         5     0  -
key4_mode64                           029B         no  WORD  Internal   rel    446  private  text         9     0  -
key4_mode66                           02A4         no  WORD  Internal   rel    450  private  text         9     0  -
key4_mode81                           02AD         no  WORD  Internal   rel    454  private  text         5     0  -
key4_mode82                           02B2         no  WORD  Internal   rel    457  private  text        11     0  -
key4_mode91                           02BD         no  WORD  Internal   rel    462  private  text         5     0  -
key4_mode92                           02C2         no  WORD  Internal   rel    465  private  text         5     0  -

mode                              ????????         no  WORD  External   rel      3  private  text         0     0  -
minutes                           ????????         no  WORD  External   rel      5  private  text         0     0  -
monthweekd                        ????????         no  WORD  External   rel      8  private  text         0     0  -
melody                            ????????         no  WORD  External   rel     19  private  text         0     0  -

numofdays                         ????????         no  WORD  External   rel     16  private  text         0     0  -
not_leap                              08EB         no  WORD  Internal   rel   1167  private  text        13     0  -

restore_periph                        0347         no  WORD  Internal   rel    535  public   text        28     0  -
reset_ss                              0383         no  WORD  Internal   rel    564  public   text        47     0  -
rec_CALR                              07FC         no  WORD  Internal   rel   1052  private  text         5     0  -
rec_neg                               081D         no  WORD  Internal   rel   1065  private  text        20     0  -
readtime                              0873         no  WORD  Internal   rel   1118  public   text        31     0  -
STMicroelectronics assembler v4.52   (C)1987-2023   Sat Aug 12 20:15:57 2023
Page 46  Assembler
                                               c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm


seconds                           ????????         no  WORD  External   rel      4  private  text         0     0  -
stop                              ????????         no  WORD  External   rel     21  private  text         0     0  -
set_threshold                     ????????         no  WORD  External   rel     23  private  text         0     0  -
scndslft                              0005         no  WORD  Internal   rel     64  private  bss          2     2  -
skip_addup                            03B2         no  WORD  Internal   rel    579  private  text        11     0  -
sign_plus_minus                       0861         no  WORD  Internal   rel   1105  private  text        12     0  -
skip_ss_sbt                           0931         no  WORD  Internal   rel   1197  private  text        11     0  -

timerflag                             0004         no  WORD  Internal   rel     63  public   bss          1     1  -
timerparse                            02C7         no  WORD  Internal   rel    469  public   text         9     0  -
timer_fired                           02D0         no  WORD  Internal   rel    474  private  text        92     0  -
t_mode_halt                           032C         no  WORD  Internal   rel    526  public   text        27     0  -
t_mode_flash                          0369         no  WORD  Internal   rel    551  private  text        11     0  -
t_mode_beep                           0374         no  WORD  Internal   rel    557  private  text        15     0  -
top_mm                                0419         no  WORD  Internal   rel    621  private  text        20     0  -
top_hh                                048C         no  WORD  Internal   rel    666  private  text        20     0  -
top_mt                                0510         no  WORD  Internal   rel    720  private  text        25     0  -
top_dd                                0590         no  WORD  Internal   rel    770  private  text        25     0  -
top_wd                                0614         no  WORD  Internal   rel    834  private  text        23     0  -
top_yyyy                              067D         no  WORD  Internal   rel    880  private  text        20     0  -
top_amm                               06F7         no  WORD  Internal   rel    930  private  text        22     0  -
top_ahh                               0773         no  WORD  Internal   rel    981  private  text        22     0  -
top_melody                            07B2         no  WORD  Internal   rel   1010  private  text         9     0  -
toggle_alrm_arm                       07BB         no  WORD  Internal   rel   1015  public   text        13     0  -
toggle_hrly                           086E         no  WORD  Internal   rel   1114  private  text         5     0  -

voltage                           ????????         no  WORD  External   rel     22  private  text         0     0  -

wait_vref                             0363         no  WORD  Internal   rel    547  private  text         6     0  -
waitp_REACLPF                         0801         no  WORD  Internal   rel   1054  private  text        28     0  -
waitn_REACLPF                         081D         no  WORD  Internal   rel   1066  private  text        20     0  -
write_RTC_calendar                    0892         no  WORD  Internal   rel   1127  public   text        12     0  -
wait_INITF                            089E         no  WORD  Internal   rel   1131  private  text        10     0  -
wait_RSF                              08A8         no  WORD  Internal   rel   1135  private  text         6     0  -
write_RTC_alarm                       08AE         no  WORD  Internal   rel   1139  public   text        10     0  -
wait_DUL_l                            08DF         no  WORD  Internal   rel   1162  private  text        12     0  -
wait_DUL_nl                           08F8         no  WORD  Internal   rel   1172  private  text        12     0  -
wait_WUTWF_hrly                       0940         no  WORD  Internal   rel   1205  private  text        18     0  -
wait_WUTWF_play                       0956         no  WORD  Internal   rel   1214  private  text        18     0  -

year                              ????????         no  WORD  External   rel      9  private  text         0     0  -


466 labels
No errors on assembly of 'c:\program files (x86)\stmicroelectronics\st_toolset\stvd\watch\procedures.asm'